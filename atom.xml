<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>野有蔓草</title>
  <subtitle>邂逅相遇，適我願兮。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://fsh0524.github.io/"/>
  <updated>2017-03-30T02:02:36.000Z</updated>
  <id>http://fsh0524.github.io/</id>
  
  <author>
    <name>fsh0524</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MacOS (Sierra 10.12.3) 上更新 Homebrew 🍺 發生的怪事</title>
    <link href="http://fsh0524.github.io/2017/03/30/macos-sierra-wtf-u-broke-brew/"/>
    <id>http://fsh0524.github.io/2017/03/30/macos-sierra-wtf-u-broke-brew/</id>
    <published>2017-03-30T00:37:16.000Z</published>
    <updated>2017-03-30T02:02:36.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2017-03-30 10:02:36</p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近想來灌個 Python 3 ，卻發現 Homebrew 版本好像太舊了。<br><a id="more"></a></p>
<p>太令人沮喪了，於是我決定來跑個 brew update</p>
<h1 id="usr-local-must-be-writable"><a href="#usr-local-must-be-writable" class="headerlink" title="/usr/local must be writable?"></a>/usr/local must be writable?</h1><pre><code>Error: /usr/local must be writable!
</code></pre><p>蛤？我有看錯ㄇ？我明明記得 Homebrew 不用 /usr/local 權限的啊？？？</p>
<pre><code>sudo chown -R $(whoami) /usr/local
</code></pre><p>之後再執行一次 brew update ，看樣子是成功了，不過又被嘲諷了一次⋯⋯</p>
<pre><code>Homebrew no longer needs to have ownership of /usr/local. If you wish you can
return /usr/local to its default ownership with:
  sudo chown root:wheel /usr/local
</code></pre><h1 id="Homebrew-🍺-你在跟我開玩笑嗎？-╯°□°）╯︵-┻━┻"><a href="#Homebrew-🍺-你在跟我開玩笑嗎？-╯°□°）╯︵-┻━┻" class="headerlink" title="Homebrew 🍺 你在跟我開玩笑嗎？ (╯°□°）╯︵ ┻━┻"></a>Homebrew 🍺 你在跟我開玩笑嗎？ (╯°□°）╯︵ ┻━┻</h1><blockquote><p>There’s no such thing as “root users.” “root” is a single user (user id 0). You can enable account login for the root user as described in that support article, but the root user always exists either way.</p>
<p>By contrast, “admin” is a group. Users who are members of the admin group are characterized by their write access to /Applications, their ability to use “sudo,” and their ability to install software.</p>
<p>By default, brew is designed around the idea that the brew prefix (/usr/local) and all of its contents will be writable by all members of the admin group. Various things (usually nothing done by brew itself) can cause one or more things in /usr/local to end up not being writable by all admin users. The commands above recursively modify (if needed) the entries within /usr/local to ensure that the group assigned to each entry is admin, and that the admin group has write access to each entry.</p>
<pre><code>sudo chmod -R g+w /usr/local
</code></pre><p>won’t be sufficient if a file or directory has group wheel, since admin users are usually not members of group wheel. The command would indeed ensure writability for members of wheel, but that doesn’t help your user if it’s a member of admin but not a member of wheel. So you also have to set the group of the file to be admin in order for g+w to actually make any difference.</p>
<footer><strong>ilovezfs</strong><cite><a href="https://github.com/Homebrew/legacy-homebrew/issues/49895" target="_blank" rel="external">49895</a></cite></footer></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2017-03-30 10:02:36&lt;/p&gt;
&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;最近想來灌個 Python 3 ，卻發現 Homebrew 版本好像太舊了。&lt;br&gt;
    
    </summary>
    
      <category term="記事" scheme="http://fsh0524.github.io/categories/%E8%A8%98%E4%BA%8B/"/>
    
    
      <category term="Homebrew" scheme="http://fsh0524.github.io/tags/Homebrew/"/>
    
      <category term="MacOS Sierra" scheme="http://fsh0524.github.io/tags/MacOS-Sierra/"/>
    
  </entry>
  
  <entry>
    <title>最長共同回文子字串 ( Longest Common Palindromic Substring )</title>
    <link href="http://fsh0524.github.io/2017/02/20/longest-common-palindromic-substring/"/>
    <id>http://fsh0524.github.io/2017/02/20/longest-common-palindromic-substring/</id>
    <published>2017-02-20T06:02:42.000Z</published>
    <updated>2017-03-30T00:34:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2017-03-30 08:34:32</p>
<blockquote><h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p>　　給定兩字串 $S_1, S_2$，其中只包含小寫英文字母之字元，求兩字串之最長共同回文子字串之長度。</p>
<a id="more"></a>
<h1 id="Input-Format"><a href="#Input-Format" class="headerlink" title="Input Format"></a>Input Format</h1><p>　　第一行有一個正整數$T$，代表總共有幾筆測試資料。每筆測試資料的第一行為$S_1$，第二行為$S_2$，其長度最長不超過$10^5$個字元。</p>
<h1 id="Output-Format"><a href="#Output-Format" class="headerlink" title="Output Format"></a>Output Format</h1><p>　　對於每筆測試資料，請輸出一行一個整數，代表兩字串之最長共同回文子字串之長度。</p>
<h1 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">2</div><div class="line">abaxyza</div><div class="line">xyzaaba</div><div class="line">abaxyzwvcddcpirikapirirarapoporinapeperudo</div><div class="line">vwzyxcddcaba</div></pre></td></tr></table></figure>

<h1 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">3</div><div class="line">4</div></pre></td></tr></table></figure>
</blockquote>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>　　我們先令 $R_1 = Reverse(S_1), R_2 = Reverse(S_2)$，產生兩個反轉後的字串。<br>　　回文有可能出現偶數長度的回文和奇數長度的回文。為了一般化處理，我們在字串的開頭和結尾和每個字元之間加上一個$\Sigma$的字元（例：“abaxyza” 轉換成 “.a.b.a.x.y.z.a.”），如此一來所有的回文都會變成奇數長度，求回原來的長度只需除以二即可。<br>　　接著我們預處理所有字串的前綴Hash，方便我們將來能$O(1)$求取任意一段子字串的Hash值並利用前面構造的$R_i$來$O(1)$判斷其是否為回文。<br>　　（Hash建議要進行兩次，避免碰撞）<br>　　那麼我們只要二分搜回文的長度$L$（必為奇數），並$O(|S|)$將兩字串中所有長度為$L$的回文分別加入一個陣列中並排序，這樣只要使用雙指針$O(N)$遍歷陣列，尋找 Hash 值相同的字串即可。<br>　　（字串中尋找回文對於回文長度具有<font color="red">奇單調性</font>）<br>　　這樣一來的複雜度大約會是很漂亮的$O(NlgN)$ 。</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><script src="https://gist.github.com/fsh0524/2e358fc209b97d714351e3828f0e1831.js"></script>

<p>因為 highlight.js 有 Bug，先暫時用 gist。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div></pre></td><td class="code"><pre><div class="line">#define F(n) Fi(i,n)</div><div class="line">#define Fi(i,n) Fl(i,0,n)</div><div class="line">#define Fl(i,l,n) for(int i=l;i&lt;n;++i)</div><div class="line">#include &lt;bits/stdc++.h&gt;</div><div class="line">using namespace std;</div><div class="line">#define N 200010</div><div class="line">#define fir first</div><div class="line">#define sec second</div><div class="line">typedef pair&lt;int, int&gt; PII;</div><div class="line">const PII p(101, 101), q(712271227, 1000000007);</div><div class="line">PII h[4][N];</div><div class="line">vector&lt;PII&gt; ss[2];</div><div class="line">char s[4][N], str[N];</div><div class="line">int l[4];</div><div class="line">void get_h() &#123;</div><div class="line">	F(4) Fi(j, l[i]) &#123;</div><div class="line">		h[i][j] = PII((int)s[i][j], (int)s[i][j]);</div><div class="line">		if (j)</div><div class="line">			h[i][j].fir = (1ll * h[i][j-1].fir * p.fir + h[i][j].fir) % q.fir,</div><div class="line">			h[i][j].sec = (1ll * h[i][j-1].sec * p.sec + h[i][j].sec) % q.sec;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">bool notpar(int i, int lb, int rb, PII pL) &#123;</div><div class="line">	PII ha = q, hb = q;</div><div class="line">	if (lb)</div><div class="line">		ha.fir -= 1ll * h[i][lb-1].fir * pL.fir % q.fir,</div><div class="line">		ha.sec -= 1ll * h[i][lb-1].sec * pL.sec % q.sec;</div><div class="line">	ha.fir = (ha.fir + h[i][rb].fir) % q.fir;</div><div class="line">	ha.sec = (ha.sec + h[i][rb].sec) % q.sec;</div><div class="line">	int rlb = l[i+2] - rb - 1,</div><div class="line">		rrb = l[i+2] - lb - 1;</div><div class="line">	if (rlb)</div><div class="line">		hb.fir -= 1ll * h[i+2][rlb-1].fir * pL.fir % q.fir,</div><div class="line">		hb.sec -= 1ll * h[i+2][rlb-1].sec * pL.sec % q.sec;</div><div class="line">	hb.fir = (hb.fir + h[i+2][rrb].fir) % q.fir;</div><div class="line">	hb.sec = (hb.sec + h[i+2][rrb].sec) % q.sec;</div><div class="line">	return ha != hb;</div><div class="line">&#125;</div><div class="line">void get_set(int L, PII pL) &#123;</div><div class="line">	PII tmp;</div><div class="line">	F(2) &#123;</div><div class="line">		ss[i].clear();</div><div class="line">		Fi(j, l[i]-L+1) &#123;</div><div class="line">			if (notpar(i, j, j+L-1, pL)) continue;</div><div class="line">			tmp = q;</div><div class="line">			if (j)</div><div class="line">				tmp.fir -= 1ll * h[i][j-1].fir * pL.fir % q.fir,</div><div class="line">				tmp.sec -= 1ll * h[i][j-1].sec * pL.sec % q.sec;</div><div class="line">			tmp.fir = (tmp.fir + h[i][j+L-1].fir) % q.fir;</div><div class="line">			tmp.sec = (tmp.sec + h[i][j+L-1].sec) % q.sec;</div><div class="line">			ss[i].push_back(tmp);</div><div class="line">		&#125;</div><div class="line">		sort(ss[i].begin(), ss[i].end());</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">bool check(int L) &#123;</div><div class="line">	PII pL(1, 1);</div><div class="line">	F(L) pL = PII(1ll * pL.fir * p.fir % q.fir, 1ll * pL.sec * p.sec % q.sec);</div><div class="line">	get_set(L, pL);</div><div class="line">	for (int i = 0, j = 0 ; i &lt; ss[0].size() ; ++i) &#123;</div><div class="line">		while (j &lt; ss[1].size() &amp;&amp; ss[1][j] &lt; ss[0][i]) ++j;</div><div class="line">		if (j &lt; ss[1].size() &amp;&amp; ss[1][j] == ss[0][i]) return false;</div><div class="line">	&#125;</div><div class="line">	return true;</div><div class="line">&#125;</div><div class="line">int lcs() &#123;</div><div class="line">	get_h();</div><div class="line">	int rb = min(l[0], l[1]) &gt;&gt; 1, ans = 0, bit = 1;</div><div class="line">	while (bit &lt;= rb) bit &lt;&lt;= 1;</div><div class="line">	for (bit &gt;&gt;= 1 ; bit ; bit &gt;&gt;= 1) &#123;</div><div class="line">		ans += bit;</div><div class="line">		if (ans &gt; rb || check(ans &lt;&lt; 1 | 1)) ans -= bit;</div><div class="line">	&#125;</div><div class="line">	return ans;</div><div class="line">&#125;</div><div class="line">main() &#123;</div><div class="line">	ios_base::sync_with_stdio(false);</div><div class="line">	cin.tie(NULL);</div><div class="line">	int t;</div><div class="line">	cin &gt;&gt; t;</div><div class="line">	while (t--) &#123;</div><div class="line">		memset(s, 0, sizeof(s));</div><div class="line">		F(2) &#123;</div><div class="line">			cin &gt;&gt; str;</div><div class="line">			l[i] = strlen(str);</div><div class="line">			for (int j = 0 ; j &lt; (l[i] &lt;&lt; 1 | 1) ; ++j)</div><div class="line">				s[i][j] = (j &amp; 1 ? str[j &gt;&gt; 1] : '.'), </div><div class="line">				s[i + 2][j] = (j &amp; 1 ? str[l[i] - (j &gt;&gt; 1) - 1] : '.');</div><div class="line">			l[i] = l[i + 2] = l[i] &lt;&lt; 1 | 1;</div><div class="line">		&#125;</div><div class="line">		cout &lt;&lt; lcs() &lt;&lt; '\n';</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2017-03-30 08:34:32&lt;/p&gt;
&lt;blockquote&gt;&lt;h1 id=&quot;Description&quot;&gt;&lt;a href=&quot;#Description&quot; class=&quot;headerlink&quot; title=&quot;Description&quot;&gt;&lt;/a&gt;Description&lt;/h1&gt;&lt;p&gt;　　給定兩字串 $S_1, S_2$，其中只包含小寫英文字母之字元，求兩字串之最長共同回文子字串之長度。&lt;/p&gt;
    
    </summary>
    
      <category term="題解" scheme="http://fsh0524.github.io/categories/%E9%A1%8C%E8%A7%A3/"/>
    
    
  </entry>
  
  <entry>
    <title>TIOJ 1920 . 植物大戰殭屍</title>
    <link href="http://fsh0524.github.io/2016/12/10/TIOJ-1920/"/>
    <id>http://fsh0524.github.io/2016/12/10/TIOJ-1920/</id>
    <published>2016-12-09T21:58:12.000Z</published>
    <updated>2016-12-09T23:18:20.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2016-12-10 07:18:20</p>
<blockquote><h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p>你玩過植物大戰殭屍嗎？<br><img src="https://upload.wikimedia.org/wikipedia/zh/9/95/PVZ.jpg" title="植物大戰殭屍——遊戲畫面"><br>這是一款用植物打趴殭屍的熱門遊戲，已經紅了一段時間了。<br><a id="more"></a></p>
<p>在遊戲中，不同的植物可能相互作用，產生類似「合體技」的功能。這題的主要目標就是探討如何安排這些植物才能達到最大的攻擊力。為了簡化問題，我們只考慮只有一個殭屍以及田地只有一列的情況。</p>
<p>一列有$N$格的田地由左至右編號為$0,1,…,N−1$，每格田地的肥沃度是$a_i$。共有$Q$個關卡，而且每一個關卡都只有一個殭屍，並且進行的場地(也就是你能種植物的地方)是$N$格田地中的某一個區間$[L,R)$。而在每一關，你只有一個工具可以用：播種機。這是一個一次性道具，使用方法就是把他放在某一格落在區間內的田地，之後他會開始往右開，並且在所經過的田地都種下一顆種子(含起點)。播種完(也就是超過編號$R$的田地)之後，還會直接輾過殭屍造成一定的傷害。而對於某個已種下種子且肥沃度是$a_i$的格子，過了一小段時間之後就會長出「特徵值」是$a_i$的植物。所種出的植物會發動合體技，產生一顆種子子彈。這顆種子子彈的特徵值就是將所有植物的特徵值$xor$起來後的結果，並且這顆種子子彈會筆直地朝殭屍射過去，造成傷害。傷害的計算方法也非常容易，就是將種子子彈的特徵值和殭屍的特徵值$v$ $xor$後得到的結果。</p>
<p>對於給定的$Q$個關卡，請計算你能造成的最大傷害。</p>
<h1 id="Input-Format"><a href="#Input-Format" class="headerlink" title="Input Format"></a>Input Format</h1><p>第一行有兩個正整數$N\le {10}^{4},Q\le {10}^{6}$，分別代表田地大小以及關卡數目。<br>第二行有$N$個整數$0\le a_0,a_1,…,{a}_{N−1}&lt;{2}^{30}$，代表每格田地的肥沃度。<br>接下來的$Q$中每行會有三個非負整數$L_i,R_i\le N,v&lt;{2}^{30}$（$L_i&lt;R_i$），分別代表關卡進行場地的左右界以及殭屍的特徵值。</p>
<h1 id="Output-Format"><a href="#Output-Format" class="headerlink" title="Output Format"></a>Output Format</h1><p>對於每個關卡，請輸出能造成的傷害最大值。</p>
<h1 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">4 2 </div><div class="line">0 2 1 3 </div><div class="line">0 3 3 </div><div class="line">2 4 1 </div></pre></td></tr></table></figure>

<h1 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">2 </div><div class="line">3</div></pre></td></tr></table></figure>
<footer><strong>TIOJ</strong><cite><a href="http://tioj.infor.org/problems/1920" target="_blank" rel="external">1920</a></cite></footer></blockquote>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>題目的每筆詢問要求最大化$a_k\oplus {a}_{k+1}\oplus …\oplus {a}_{R_i}\oplus v_i$，對於$L_i\le k&lt;R_i$。</p>
<p>我們可以先預處理序列的後綴$xor$值——即$S_j=a_j\oplus {a}_{j+1}\oplus …\oplus {a}_{N-1}$——方便我們能夠$O(1)$取得一段連續區間的$xor$值。</p>
<p>那麼問題就變成找到一個$k\in[L_i, R_i)$，最大化${Ans}_{i}=S_k\oplus {S}_{R_i}\oplus v_i$。</p>
<p>但直接枚舉$k$太慢了（最糟糕會變成$O (NQ)$），在這裡我們用到一種稱為 Trie（前綴樹）的資料結構來存取「特徵值」的二進制值。<br><img src="/images/TIOJ-1920/0.png"><br>對二進制值的字典序作排序，第一層存第30位，第二層存第29位，以此類推。</p>
<p>而現在我們只要維護 $N$ 棵 Trie，並把節點的值改成他底下最小的 index（為 S 的第幾個元素，用在限制右界時作為搜索的節點限制）。在尋找 $S_k$ 時，從上面（高維度）往下（低維度）搜索，儘量選擇和 ${S}_{R_i}\oplus v_i$ 長得不一樣的位元，這樣貪婪的做法是正確的。（和比大小一樣，越高維度有 1 表示一定是比較大的數字，又 $xor$ 想要得到 $1$ 就要兩個位元不同才行）<br>這樣子時間複雜度大約是：$O (N\log {a})$</p>
<p>但我們很快地就發現維護 $N$ 棵 Trie 是絕對會 MLE 的，為此我們需要持久化該資料結構。<br>我用指標實作，這樣一來當一棵新樹使用到舊版本的子樹時，只要把舊版本的該子樹連到不會被更新到的節點即可。</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">define</span> F(n) Fi(i,n)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Fi(i,n) Fl(i,0,n)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Fl(i,l,n) for(int i=l;i&lt;n;++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 10005</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> endl <span class="meta-string">'\n'</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">struct</span> Trie &#123;</div><div class="line">	Trie(<span class="keyword">int</span> _val = <span class="number">0</span>, Trie *_src = <span class="literal">nullptr</span>) : rb(_val) &#123;</div><div class="line">		<span class="keyword">if</span> (_src) ch[<span class="number">0</span>] = _src-&gt;ch[<span class="number">0</span>], ch[<span class="number">1</span>] = _src-&gt;ch[<span class="number">1</span>];</div><div class="line">		<span class="keyword">else</span> ch[<span class="number">0</span>] = ch[<span class="number">1</span>] = <span class="literal">nullptr</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">int</span> rb;</div><div class="line">	Trie *ch[<span class="number">2</span>];</div><div class="line">&#125; *root[MAXN];</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> pos, <span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">	root[pos] = <span class="keyword">new</span> Trie(pos, root[pos + <span class="number">1</span>]);</div><div class="line">	Trie *my = root[pos], *src = root[pos + <span class="number">1</span>];</div><div class="line">	<span class="keyword">int</span> side;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">29</span> ; i &gt;= <span class="number">0</span> ; --i) &#123;</div><div class="line">		side = val &gt;&gt; i &amp; <span class="number">1</span>;</div><div class="line">		my-&gt;ch[side] = <span class="keyword">new</span> Trie(pos, src ? src-&gt;ch[side] : src);</div><div class="line">		my = my-&gt;ch[side];</div><div class="line">		<span class="keyword">if</span> (src) src = src-&gt;ch[side];</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> pos, <span class="keyword">int</span> val, <span class="keyword">int</span> lim)</span> </span>&#123;</div><div class="line">	Trie *my = root[pos];</div><div class="line">	<span class="keyword">int</span> side, ans = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">29</span> ; i &gt;= <span class="number">0</span> ; --i) &#123;</div><div class="line">		ans &lt;&lt;= <span class="number">1</span>;</div><div class="line">		side = val &gt;&gt; i &amp; <span class="number">1</span>;</div><div class="line">		<span class="keyword">if</span> (my-&gt;ch[!side] &amp;&amp; my-&gt;ch[!side]-&gt;rb &lt; lim) ans |= !side, my = my-&gt;ch[!side];</div><div class="line">		<span class="keyword">else</span> ans |= side, my = my-&gt;ch[side];</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ans ^ val;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> s[MAXN];</div><div class="line">main() &#123;</div><div class="line">	ios_base::sync_with_stdio(<span class="literal">false</span>);</div><div class="line">	<span class="built_in">cin</span>.tie(<span class="literal">NULL</span>);</div><div class="line">	<span class="keyword">int</span> n, q, l, r, v;</div><div class="line">	<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; q;</div><div class="line">	F(n) <span class="built_in">cin</span> &gt;&gt; s[i];</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">2</span> ; i &gt;= <span class="number">0</span> ; --i)</div><div class="line">		s[i] ^= s[i+<span class="number">1</span>];</div><div class="line">	root[n] = <span class="keyword">new</span> Trie(n);</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = n<span class="number">-1</span> ; i &gt;= <span class="number">0</span> ; --i)</div><div class="line">		insert(i, s[i]);</div><div class="line">	<span class="keyword">while</span> (q--) &#123;</div><div class="line">		<span class="built_in">cin</span> &gt;&gt; l &gt;&gt; r &gt;&gt; v;</div><div class="line">		<span class="built_in">cout</span> &lt;&lt; query(l, s[r] ^ v, r) &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2016-12-10 07:18:20&lt;/p&gt;
&lt;blockquote&gt;&lt;h1 id=&quot;Description&quot;&gt;&lt;a href=&quot;#Description&quot; class=&quot;headerlink&quot; title=&quot;Description&quot;&gt;&lt;/a&gt;Description&lt;/h1&gt;&lt;p&gt;你玩過植物大戰殭屍嗎？&lt;br&gt;&lt;img src=&quot;https://upload.wikimedia.org/wikipedia/zh/9/95/PVZ.jpg&quot; title=&quot;植物大戰殭屍——遊戲畫面&quot;&gt;&lt;br&gt;這是一款用植物打趴殭屍的熱門遊戲，已經紅了一段時間了。&lt;br&gt;
    
    </summary>
    
      <category term="題解" scheme="http://fsh0524.github.io/categories/%E9%A1%8C%E8%A7%A3/"/>
    
    
      <category term="TIOJ" scheme="http://fsh0524.github.io/tags/TIOJ/"/>
    
      <category term="Trie" scheme="http://fsh0524.github.io/tags/Trie/"/>
    
      <category term="持久化" scheme="http://fsh0524.github.io/tags/%E6%8C%81%E4%B9%85%E5%8C%96/"/>
    
      <category term="RMQ" scheme="http://fsh0524.github.io/tags/RMQ/"/>
    
  </entry>
  
  <entry>
    <title>從 Nim 到 Sprague–Grundy 定理</title>
    <link href="http://fsh0524.github.io/2016/10/11/SG-theorem/"/>
    <id>http://fsh0524.github.io/2016/10/11/SG-theorem/</id>
    <published>2016-10-10T23:02:07.000Z</published>
    <updated>2016-12-09T21:59:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2016-12-10 05:59:35</p>
<p>先思考一個簡單的問題：</p>
<blockquote><p>場上有 $n$ 堆數量不一的石頭，<a href="http://wikiwiki.jp/kancolle/?%B6%C7" target="_blank" rel="external">Akatsuki</a> 和 <a href="http://wikiwiki.jp/kancolle/?Bismarck" target="_blank" rel="external">Bismarck</a> 分別為先手和後手，在他們各自的回合都能選擇從其中一堆拿走一顆以上的石頭，拿到最後一顆石頭者勝。</p>
</blockquote>
<a id="more"></a>
<h1 id="猜想"><a href="#猜想" class="headerlink" title="猜想"></a>猜想</h1><p>我們可以明確地知道，如果 $n = 1$，那麼 Akatsuki 必勝（她只要取走全部的石頭就贏了！）。那麼 $n$ 堆石頭的狀況呢？</p>
<p>我們定義$\oplus$為$xor$運算，$X=\{x_1, x_2, …, x_i, …, x_n\} $ 為某個狀態 $SG(X) = x_1 \oplus x_2 \oplus … \oplus x_i \oplus … \oplus x_n$。</p>
<p>當把狀態轉移為$SG(X ’ )=0$時 Bismarck 必勝，那麼存在必勝策略是讓$SG(X ’)$變為$0$，否則 Akatsuki 必勝。</p>
<h1 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h1><p>看到這裡，如果是不知道 Nim 的讀者一定很困惑我在寫三小。讓我們把問題再單純化：</p>
<p>首先定義這個遊戲的雙方都可以做相同的選擇與操作，且都能看見對方的選擇與狀態的轉移。</p>
<p>對於遊戲中的一個狀態 $x$（如一堆石頭），我們定義：</p>
<ul>
<li>如果 $x$ 無法被轉移到其他狀態，我們稱之為 $P-position$，$SG(x)=0$。</li>
<li>如果 $x$ 可以被轉移到其他狀態，我們稱之為 $N-position$。<ul>
<li>$x$ 可以被轉移到$S=\{x_1, x_2, …, x_n\}$集合上的任一狀態。</li>
<li>$SG(x)=mex\{SG(x_1), SG(x_2), …, SG(x_n)\}$。</li>
<li>$mex\{A\}$為不在$A$集合中的最小非負整數。</li>
</ul>
</li>
</ul>
<p>由此我們很清楚地知道開始狀態是$x$的遊戲中，$SG(x)&gt;0$表示先手必勝（必能使對方得到$P-position$），反之，後手必勝（先手就已經是$P-position$了）。</p>
<h1 id="證明"><a href="#證明" class="headerlink" title="證明"></a>證明</h1><p>對於一個問題的狀態 $X$，可以被拆成很多個操作不互相干擾的、獨立的子問題 $X=\{x_1, x_2, …, x_i, …, x_n\}$。</p>
<p>回到剛剛的 Nim，我們假設了$SG(X) = x_1 \oplus x_2 \oplus … \oplus x_i \oplus … \oplus x_n$，且當$SG(X)=0$時後手必勝，反之則先手必勝。</p>
<p>在這裡我們先令$b = x_1 \oplus x_2 \oplus … \oplus x_i \oplus … \oplus x_n$。</p>
<p>玩家在一個回合內可以選擇狀態中的第 $i$ 個子問題做一次操作，轉移成 $X_i’ =\{x_1, x_2, …, x_i ’, …, x_n\} $。</p>
<p>那麼由上面$SG$函數的定義，令$S$為從$X$狀態轉移出來的集合，我們可以知道如果$b=SG(X)$：</p>
<ol>
<li>$\forall_{0\leq a&lt;b},\exists_{X’\in S},SG(X’) = a$</li>
<li>$\forall_{X’\in S} SG(X’) \neq b$</li>
</ol>
<h2 id="證明-1"><a href="#證明-1" class="headerlink" title="證明 1"></a>證明 1</h2><p>令 $c = b \oplus a,$ $\because a &lt; b$，$c$ 的最高位和 $b$ 的最高位皆為第 $k$ 位，<br>$\exists_{x_i\in X},SG(x_i)$ 的最高位為第 $k$ 位。<br>令 $d = c \oplus SG(x_i)$<br>$d &lt; SG(x_i)$，根據定義我們知道，$\exists_{x_i’\in X’},SG(x_i’)=d$</p>
<p>$<br>SG(x_1)\oplus SG(x_2)\oplus …\oplus SG(x_i’)\oplus …\oplus SG(x_n) \\<br>=SG(x_1)\oplus SG(x_2)\oplus …\oplus d\oplus …\oplus SG(x_n) \\<br>=SG(x_1)\oplus SG(x_2)\oplus …\oplus (c \oplus SG(x_i))\oplus …\oplus SG(x_n) \\<br>=SG(x_1)\oplus SG(x_2)\oplus …\oplus ((b \oplus a) \oplus SG(x_i))\oplus …\oplus SG(x_n) \\<br>=b\oplus a\oplus b=a<br>$</p>
<h2 id="證明-2"><a href="#證明-2" class="headerlink" title="證明 2"></a>證明 2</h2><p>利用反證法：</p>
<p>假設 $\exists_{X’\in S}SG(X’)=b$<br>又由定義得知$SG(x_i)\neq SG(x_i’),SG(x_i)\oplus SG(x_i’)=c\neq 0$</p>
<p>$<br>SG(x_1)\oplus SG(x_2)\oplus …\oplus SG(x_i’)\oplus …\oplus SG(x_n) \\<br>=SG(x_1)\oplus SG(x_2)\oplus …\oplus ((SG(x_i’)\oplus SG(x_i))\oplus SG(x_i))\oplus …\oplus SG(x_n) \\<br>=b\oplus c \neq b\rightarrow\leftarrow<br>$</p>
<h1 id="例題"><a href="#例題" class="headerlink" title="例題"></a>例題</h1><blockquote><p>There some Amoebas on the line with integer length and face to origin. A-Mi-Ba and B-Mi-Ba are playing with Amoebas in turns. A-Mi-Ba goes first.</p>
<p>The game is as following :</p>
<ol>
<li>Skip this step or choose an Amoeba and cut it into two pieces. Each of piece will be a new Amoeba. The length of new Amoeba should be an integer. Both of them will face to origin.</li>
<li>Put a Yakeli-Food in front of one Amoeba in empty cell. The Amoeba will eat the Yakeli-Food and move one unit.</li>
<li>World Piece! The adjacent Amoebas will combine into one Amoeba.</li>
</ol>
<p>The game ended when nobody can move. It means that there only one Amoeba and it’s head is in front of origin.</p>
<p>The loser is the player who can’t move. He will be eaten by the Amoeba! Can you tell them who will be the winner?</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Begin Status:</div><div class="line">      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</div><div class="line">origin| |O O O| | |O O O O O O| | | | | |O|</div><div class="line">      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</div><div class="line">End Status:</div><div class="line">      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</div><div class="line">origin|O O O O O O O O O O| | | | | | | | |</div><div class="line">      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</div></pre></td></tr></table></figure>
<footer><strong>NTUOJ A-Mi-Ba</strong></footer></blockquote>
<h1 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h1><p>先拆解問題，發現可以對每隻阿米巴，處理「左方空白總數」和「阿米巴的長度」的子問題，把每個$SG_i(blank,length)xor$起來便是答案了。</p>
<p>又透過觀察發現當空白數量等於偶數時阿米巴的移動並不影響答案（移動偶數次答案不變），奇數時$SG(odd, l)=l$。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2016-12-10 05:59:35&lt;/p&gt;
&lt;p&gt;先思考一個簡單的問題：&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;場上有 $n$ 堆數量不一的石頭，&lt;a href=&quot;http://wikiwiki.jp/kancolle/?%B6%C7&quot;&gt;Akatsuki&lt;/a&gt; 和 &lt;a href=&quot;http://wikiwiki.jp/kancolle/?Bismarck&quot;&gt;Bismarck&lt;/a&gt; 分別為先手和後手，在他們各自的回合都能選擇從其中一堆拿走一顆以上的石頭，拿到最後一顆石頭者勝。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="記事" scheme="http://fsh0524.github.io/categories/%E8%A8%98%E4%BA%8B/"/>
    
    
      <category term="CGT" scheme="http://fsh0524.github.io/tags/CGT/"/>
    
  </entry>
  
  <entry>
    <title>NEERC 2009, Northern, Problem E. Enigmatic Device</title>
    <link href="http://fsh0524.github.io/2016/10/09/NEERC-Northern-2009-E/"/>
    <id>http://fsh0524.github.io/2016/10/09/NEERC-Northern-2009-E/</id>
    <published>2016-10-09T06:29:25.000Z</published>
    <updated>2016-10-09T10:16:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2016-10-09 06:16:15</p>
<blockquote><h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p>Yes, it happened! The first contact! Aliens will visit the Earth in $2010$! And they promised to bring an enigmatic device which cannot be constructed using existing Earth technologies. Most of the scientists of the world think so! All newspapers already published their leading articles about it.</p>
<a id="more"></a>
<p>This device will accept an integer sequence $\{ a_i \} $ as its initial input. After that, it can perform the following two operations:</p>
<ol>
<li>Take an interval $[l; r]$ and perform $a_i$ ← $a_i^2$ $mod$ $2010$ for all $a_i$ such that $l \leq  i \leq  r$.</li>
<li>Take an interval $[l; r]$ and output the sum of all $a_i$ such that $l \leq  i \leq  r$. Note that the sum is <font color="#f00"><strong><em>not</em></strong></font> taken modulo $2010$.</li>
</ol>
<p>The amazing thing about this device is that it is able to perform $50000$ operations of this kind with a sequence of $50000$ numbers within $3$ seconds. Nobody could do it before!</p>
<p>But Roman does not believe in aliens and thinks that it is only a great hoax made by somebody just to win another million bucks on the stock exchange. His goal is to prove this. So he hired you to write a program to simulate this device.</p>
<p>Given an integer sequence ai and a sequence of operations, write a program which simulates the behaviour of the strange alien device.</p>
<h1 id="Input-Format"><a href="#Input-Format" class="headerlink" title="Input Format"></a>Input Format</h1><p>The first line of the input contains the length of the sequence $n$ ($1\leq  n\leq 50000$). The second line contains n numbers ai forming the initial sequence ($0\leq a_i\leq 2009$). The third line contains the number of operations $m$ ($1\leq m\leq 50000$). The rest of file contains m lines, each describing one operation. The $j$-th operation is described by its kind $k_j$ (‘1’ for squaring, ‘2’ for calculating the sum), followed by two integers $l_j$ and $r_j$ ($1\leq l_j\leq r_j\leq n$).</p>
<h1 id="Output-Format"><a href="#Output-Format" class="headerlink" title="Output Format"></a>Output Format</h1><p>For each operation of the second kind, write their output on the separate line, in order they appear in the input.</p>
<h1 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h1><figure class="highlight plain"><figcaption><span>enigmatic.in</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">3</div><div class="line">17 239 999</div><div class="line">4</div><div class="line">2 1 3</div><div class="line">1 2 3</div><div class="line">2 2 3</div><div class="line">2 1 2</div></pre></td></tr></table></figure>

<h1 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h1><figure class="highlight plain"><figcaption><span>enigmatic.out</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">1255</div><div class="line">1882</div><div class="line">858</div></pre></td></tr></table></figure>
<footer><strong>Codeforces</strong><cite><a href="http://codeforces.com/gym/100622" target="_blank" rel="external">2009-2010 ACM-ICPC, NEERC, Northern Subregional Contest</a></cite></footer></blockquote>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>　　看到題目要求區間更新和查詢，不難想到是線段樹。但這題的更新是平方，光是平方就不知道要怎麼區間更新，這裡需要觀察幾個性質：</p>
<ul>
<li>2010 是合成數，根據經驗法則我們知道合成數的環通常比較小。（證明待補）</li>
<li>由上一項我們可以大膽地<a href="http://pastebin.com/0pLi1KQv/" title="pastebin" target="_blank" rel="external">測試</a>，發現除了 $a$ 和 $a^2$ 以外，後面的平方運算每十次會循環一次。</li>
</ul>
<p>　　利用上述性質，我們可以先預處理 $\{ a_i, a_i^2, a_i^{2^2}, a_i^{2^3}, …, a_i^{2^{12}} \} $ ，這樣當我們要將 $[l, n]$ 區間的每個元素平方時，只要將須更新的區間子樹滾動一次，並更新其懶惰標記即可。</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> F(n) Fi(i,n)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Fi(i,n) Fl(i,0,n)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Fl(i,l,n) for(int i=l;i&lt;n;++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> M ((L+R)&gt;&gt;1)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lchild (root&lt;&lt;1)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rchild (root&lt;&lt;1|1)</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> node = <span class="number">200000</span>, ring = <span class="number">12</span>, mod = <span class="number">2010</span>;</div><div class="line"><span class="keyword">int</span> n, tree[node][ring], lazy[node], roll[node];</div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">rolling</span><span class="params">(<span class="keyword">int</span> a)</span> </span>&#123;</div><div class="line">	<span class="keyword">while</span> (a &gt; <span class="number">11</span>) a -= <span class="number">10</span>;</div><div class="line">	<span class="keyword">return</span> a;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span> <span class="params">(<span class="keyword">int</span> root = <span class="number">1</span>, <span class="keyword">int</span> L = <span class="number">1</span>, <span class="keyword">int</span> R = n)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (L == R) &#123;</div><div class="line">		<span class="built_in">cin</span> &gt;&gt; tree[root][<span class="number">0</span>];</div><div class="line">		F(<span class="number">11</span>) tree[root][i+<span class="number">1</span>] = (tree[root][i]*tree[root][i])%mod;</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	build(lchild, L, M), build(rchild, M+<span class="number">1</span>, R);</div><div class="line">	F(<span class="number">12</span>) tree[root][i] = tree[lchild][i]+tree[rchild][i];</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_down</span> <span class="params">(<span class="keyword">int</span> root)</span> </span>&#123;</div><div class="line">	lazy[lchild] = rolling(lazy[lchild]+lazy[root]);</div><div class="line">	lazy[rchild] = rolling(lazy[rchild]+lazy[root]);</div><div class="line">	roll[lchild] = rolling(roll[lchild]+lazy[root]);</div><div class="line">	roll[rchild] = rolling(roll[rchild]+lazy[root]);</div><div class="line">	lazy[root] = <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span> <span class="params">(<span class="keyword">int</span> ql, <span class="keyword">int</span> qr, <span class="keyword">int</span> root = <span class="number">1</span>, <span class="keyword">int</span> L = <span class="number">1</span>, <span class="keyword">int</span> R = n)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (R &lt; ql || qr &lt; L) <span class="keyword">return</span>;</div><div class="line">	<span class="keyword">if</span> (ql &lt;= L &amp;&amp; R &lt;= qr) &#123;</div><div class="line">		roll[root] = rolling(roll[root]+<span class="number">1</span>);</div><div class="line">		lazy[root] = rolling(lazy[root]+<span class="number">1</span>);</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	push_down(root);</div><div class="line">	update(ql, qr, lchild, L, M), update(ql, qr, rchild, M+<span class="number">1</span>, R);</div><div class="line">	F(<span class="number">12</span>) tree[root][i] = tree[lchild][rolling(roll[lchild]+i)]+tree[rchild][rolling(roll[rchild]+i)];</div><div class="line">	roll[root] = <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span> <span class="params">(<span class="keyword">int</span> ql, <span class="keyword">int</span> qr, <span class="keyword">int</span> root = <span class="number">1</span>, <span class="keyword">int</span> L = <span class="number">1</span>, <span class="keyword">int</span> R = n)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (R &lt; ql || qr &lt; L) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="keyword">if</span> (ql &lt;= L &amp;&amp; R &lt;= qr) <span class="keyword">return</span> tree[root][roll[root]];</div><div class="line">	push_down(root);</div><div class="line">	<span class="keyword">return</span> query(ql, qr, lchild, L, M)+query(ql, qr, rchild, M+<span class="number">1</span>, R);</div><div class="line">&#125;</div><div class="line">main () &#123;</div><div class="line">	freopen(<span class="string">"enigmatic.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line">	freopen(<span class="string">"enigmatic.out"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</div><div class="line">	ios::sync_with_stdio(<span class="number">0</span>);</div><div class="line">	<span class="built_in">cin</span>.tie(<span class="number">0</span>);</div><div class="line">	<span class="built_in">cin</span> &gt;&gt; n;</div><div class="line">	build();</div><div class="line">	<span class="keyword">int</span> q, k, l, r;</div><div class="line">	<span class="built_in">cin</span> &gt;&gt; q;</div><div class="line">	<span class="keyword">while</span> (q--) &#123;</div><div class="line">		<span class="built_in">cin</span> &gt;&gt; k &gt;&gt; l &gt;&gt; r;</div><div class="line">		<span class="keyword">if</span> (k == <span class="number">1</span>) update(l, r);</div><div class="line">		<span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; query(l, r) &lt;&lt; <span class="string">'\n'</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2016-10-09 06:16:15&lt;/p&gt;
&lt;blockquote&gt;&lt;h1 id=&quot;Description&quot;&gt;&lt;a href=&quot;#Description&quot; class=&quot;headerlink&quot; title=&quot;Description&quot;&gt;&lt;/a&gt;Description&lt;/h1&gt;&lt;p&gt;Yes, it happened! The first contact! Aliens will visit the Earth in $2010$! And they promised to bring an enigmatic device which cannot be constructed using existing Earth technologies. Most of the scientists of the world think so! All newspapers already published their leading articles about it.&lt;/p&gt;
    
    </summary>
    
      <category term="題解" scheme="http://fsh0524.github.io/categories/%E9%A1%8C%E8%A7%A3/"/>
    
    
      <category term="線段樹" scheme="http://fsh0524.github.io/tags/%E7%B7%9A%E6%AE%B5%E6%A8%B9/"/>
    
      <category term="數論" scheme="http://fsh0524.github.io/tags/%E6%95%B8%E8%AB%96/"/>
    
  </entry>
  
  <entry>
    <title>ECNA 2015 Problem G . Tray Bien</title>
    <link href="http://fsh0524.github.io/2016/09/15/ECNA2015-G/"/>
    <id>http://fsh0524.github.io/2016/09/15/ECNA2015-G/</id>
    <published>2016-09-15T00:43:13.000Z</published>
    <updated>2016-09-15T08:41:31.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2016-09-15 04:41:31</p>
<blockquote><h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p>　　André Claude Marzipan is the head chef at the French restaurant Le Chaud Chien. He owns a vast number of baking trays, which come in two sizes: 1 foot by 1 foot, and 1 foot by 2 feet. He stores them along 3-foot deep shelves of various lengths. For example, on a shelf that is 5 feet long, he might store baking trays in either of the two ways shown below:<br><img src="/images/ECNA2015-G/0.png"></p>
<a id="more"></a>
<p>　　Of course, there are many more than just these two ways, and in his off hours André often wondershow many different ways he can place trays on a given shelf. André is a bit of <em>un maniaque du rangement</em> (neat freak), so he insists that the trays are always aligned along the two axes defined by the shelf edges, that the edges of the trays are always 1 foot multiples away from any edge, and that no portion of a tray extends beyond the shelf. The matter is complicated by the fact that often there are locations on the shelf where he does not want to put any baking trays, due to leaks above the shelf, dents in the shelf’s surface, etc. Since André is more adept at cuisine than counting, he needs a little help.</p>
<h1 id="Input-Format"><a href="#Input-Format" class="headerlink" title="Input Format"></a>Input Format</h1><p>　　The input consists of two lines: the first line will contain two integers $m, n$, where $1 ≤ m ≤ 24$ indicates the length of the shelf (which is always 3-feet deep) and $n$ indicates the number of bad locations on the shelf. The next line will contain $n$ coordinate pairs $x, y$ indicating the locations where trays should not be placed, where $0 &lt; x &lt; m$ and $0 &lt; y &lt; 3$. No location will have integer coordinates and coordinates are specified to the nearest hundredth. If $n = 0$, this second line will be blank.</p>
<h1 id="Output-Format"><a href="#Output-Format" class="headerlink" title="Output Format"></a>Output Format</h1><p>　　Output the number of ways that trays could be placed on the shelf.</p>
<h1 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input 1"></a>Sample Input 1</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">4 0</div></pre></td></tr></table></figure>

<h1 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output 1"></a>Sample Output 1</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">823</div></pre></td></tr></table></figure>

<h1 id="Sample-Input-2"><a href="#Sample-Input-2" class="headerlink" title="Sample Input 2"></a>Sample Input 2</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">4 2</div><div class="line">0.29 2.44 2.73 1.8</div></pre></td></tr></table></figure>

<h1 id="Sample-Output-2"><a href="#Sample-Output-2" class="headerlink" title="Sample Output 2"></a>Sample Output 2</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">149</div></pre></td></tr></table></figure>
<footer><strong>Codeforces</strong><cite><a href="http://codeforces.com/gym/100825/" target="_blank" rel="external">ECNA2015</a></cite></footer></blockquote>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>　　題目要在一個$m\times3$的架子上放滿$1\times1$和$1\times2$的托盤，可是上面有一些位子有裂縫或凹痕不能放東西，求放滿除了破洞外的格子的方法數。<br>　　枚舉每一種填滿第$i$行並將第$i+1$行排成第$j$種排列的方法數，在此特別做限制：</p>
<ul>
<li>放置托盤不可超出第$i+1$行，保持第$i+2$行為空。</li>
<li>托盤一定要放在第$i+1$行，即若第$i$行有空位則該列只能放$1\times2$的托盤，橫跨第$i$行與第$i+1$行。</li>
</ul>
<p>　　$T=\begin{bmatrix}<br>0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 \\<br>0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 &amp; 1 \\<br>0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 1 \\<br>0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 &amp; 1 &amp; 1 &amp; 2 \\<br>0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; 1 \\<br>0 &amp; 0 &amp; 1 &amp; 1 &amp; 0 &amp; 0 &amp; 1 &amp; 1 \\<br>0 &amp; 1 &amp; 0 &amp; 1 &amp; 0 &amp; 1 &amp; 0 &amp; 2 \\<br>1 &amp; 1 &amp; 1 &amp; 2 &amp; 1 &amp; 1 &amp; 2 &amp; 3<br>\end{bmatrix}, {DP}_{i+1} = T\times{DP}_{i}$<br>　　接下來只要在做矩陣乘法的時候把轉移後會放到破洞的狀態略過，並把破洞補入下一個狀態中：<br>　　${DP}_{i+1,j|{B}_{i}} = {DP}_{i+1,j|{B}_{i}}+{DP}_{i, k}\times{T}_{j,k}$<br>　　注意在有破洞時，按上方的限制，$k$在有破洞的那列為空是不合法的。</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> F(n) Fi(i,n)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Fi(i,n) Fl(i,0,n)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Fl(i,l,n) for(int i=l;i&lt;n;++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</div><div class="line">LL DP[<span class="number">25</span>][<span class="number">8</span>];</div><div class="line">LL T[<span class="number">8</span>][<span class="number">8</span>] = &#123;</div><div class="line">	&#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>&#125;,</div><div class="line">	&#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>&#125;,</div><div class="line">	&#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>&#125;,</div><div class="line">	&#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>&#125;,</div><div class="line">	&#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>&#125;,</div><div class="line">	&#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>&#125;,</div><div class="line">	&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>&#125;,</div><div class="line">	&#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">int</span> B[<span class="number">25</span>];</div><div class="line"><span class="keyword">int</span> m, n;</div><div class="line"><span class="keyword">double</span> x, y;</div><div class="line">main() &#123;</div><div class="line">	ios_base::sync_with_stdio(<span class="literal">false</span>);</div><div class="line">	<span class="built_in">cin</span>.tie(<span class="number">0</span>);</div><div class="line">	<span class="built_in">cin</span> &gt;&gt; m &gt;&gt; n;</div><div class="line">	F(n) &#123;</div><div class="line">		<span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y;</div><div class="line">		B[<span class="keyword">int</span>(x)] |= <span class="number">1</span>&lt;&lt;<span class="keyword">int</span>(y);</div><div class="line">	&#125;</div><div class="line">	DP[<span class="number">0</span>][<span class="number">7</span>] = <span class="number">1</span>;</div><div class="line">	F(m) &#123;</div><div class="line">		Fi(j,<span class="number">8</span>)&#123;</div><div class="line">			<span class="keyword">if</span> (j&amp;B[i]) <span class="keyword">continue</span>;</div><div class="line">			Fi(k,<span class="number">8</span>)&#123;</div><div class="line">				<span class="keyword">if</span> (!B[i] || (k&amp;B[i]))</div><div class="line">					DP[i+<span class="number">1</span>][j|B[i]] += DP[i][k]*T[j][k];</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">cout</span> &lt;&lt; DP[m][<span class="number">7</span>] &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2016-09-15 04:41:31&lt;/p&gt;
&lt;blockquote&gt;&lt;h1 id=&quot;Description&quot;&gt;&lt;a href=&quot;#Description&quot; class=&quot;headerlink&quot; title=&quot;Description&quot;&gt;&lt;/a&gt;Description&lt;/h1&gt;&lt;p&gt;　　André Claude Marzipan is the head chef at the French restaurant Le Chaud Chien. He owns a vast number of baking trays, which come in two sizes: 1 foot by 1 foot, and 1 foot by 2 feet. He stores them along 3-foot deep shelves of various lengths. For example, on a shelf that is 5 feet long, he might store baking trays in either of the two ways shown below:&lt;br&gt;&lt;img src=&quot;/images/ECNA2015-G/0.png&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="題解" scheme="http://fsh0524.github.io/categories/%E9%A1%8C%E8%A7%A3/"/>
    
    
      <category term="DP" scheme="http://fsh0524.github.io/tags/DP/"/>
    
  </entry>
  
  <entry>
    <title>致我在紅樓的青春荒唐</title>
    <link href="http://fsh0524.github.io/2016/06/07/ckGraduation/"/>
    <id>http://fsh0524.github.io/2016/06/07/ckGraduation/</id>
    <published>2016-06-06T16:59:37.000Z</published>
    <updated>2016-06-06T17:38:53.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2016-06-07 01:38:53</p>
<img src="/images/ckGraduation/4.jpg">
<p>　　昨天的大雨讓我又想起了新生訓練時的我們，昂首闊步、不畏風雨。時光飛逝，從三年前我不想唸男校，到三年後依依不捨，沒有一刻是能與時間拉扯的。</p>
<a id="more"></a>
<h1 id="對建中的第一印象"><a href="#對建中的第一印象" class="headerlink" title="對建中的第一印象"></a>對建中的第一印象</h1><img src="/images/ckGraduation/0.png">
<p>　　大，美，狂  (x</p>
<p>　　其實我一開始真的以為建中生都是書呆子，不過經過社博後改觀了，建中的社團真的都強到歪掉，各領域都有高端。</p>
<h1 id="110基友團"><a href="#110基友團" class="headerlink" title="110基友團"></a>110基友團</h1><p>　　想到110的第一個想法是開學第一天走進教室時的祐碩 ，沒扣上的制服和裡面的黑色吊嘎，染色的頭髮、死掉的眼神以及遲到坐下後直接霸氣地說要當風紀。重點是還坐在我的後面，我當時都快嚇死了，想說坐我後面的居然是不良。</p>
<p>　　後來才發現祐碩其實跟我一樣是個友善的肥宅(x)，而且既是學霸又是好野人，連玩個神魔也可以課一堆錢。</p>
<p>　　努力營造班級的舒凱和亦得，舉辦了許多的活動，聯繫大家的感情，還有好多一起耍廢的好朋友們沒有一一列舉。</p>
<p>　　要說高一時光最難忘的，大概是大家一起努力準備了的校慶攤位，泓成提議要賣羊肉爐，我們還真的在校慶賣羊肉爐(覺得意外😂😂)，也非常感謝王宏仁老師的幫忙和讓我住他家的舒凱。</p>
<img src="/images/ckGraduation/1.png">
<p>　　不會忘記還有黃世穎老師的“九班就是十班”冷笑話，也是本班班服的發想xD。</p>
<h1 id="叉09"><a href="#叉09" class="headerlink" title="叉09"></a>叉09</h1><img src="/images/ckGraduation/6.jpg">
<p>　　就像進場介紹說的“強弱並濟”，我覺得309真的是個很棒的班級，雖然整天玩在一起，但該認真的時候也不會輸人。我不會忘記在這間教室裡打牌、桌遊、天則、MB、和各種糞game。</p>
<p>　　這裡我要澄清一件事，王行健真的不是一個會講幹話的人，他和我和九毅一樣，都是又帥又中肯的。</p>
<p>　　謝謝宗翰、君泰、宸寬、雋元等人一直以來為班上的付出，你們將來肯定都會是偉大的人。</p>
<p>　　特別感謝雋元，我請公假時就只剩你做國文小老師的工作，有時間我一定請你吃一頓飯的。 :P</p>
<h1 id="INFOR"><a href="#INFOR" class="headerlink" title="INFOR"></a>INFOR</h1><img src="/images/ckGraduation/2.jpg">
<p>　　謝謝學長願意接納沒參加過任何活動的我來接幹，一路上受到太多人的幫助跟電，謝謝果茶、周逸，從你們身上我真的學習了許多。</p>
<p>　　還有總是carry的尖甫、鴨子、小美、莊峻崴等人，還有成電、楓資、景資等友社，沒有你們的努力，社團活動沒辦法如此成功。</p>
<h1 id="感謝"><a href="#感謝" class="headerlink" title="感謝"></a>感謝</h1><p>　　謝謝信望愛社和王光維學長帶我參加信望愛社的公服活動，信望愛社真的很溫暖，在花蓮也讓我學習了很多。</p>
<p>　　謝謝書里、祐謙、孟融、韋傑和所有駝鈴松霖組的一活同伴們，雖然最後沒有和你們一起走到最後，但準備一活的過程卻是辛苦而快樂的，也謝謝駝鈴的學長們，我真的學到很多東西。</p>
<p>　　謝謝五校流音的學長姐們辦了一場好玩的寒訓，也謝謝六小的組員們。謝謝陳奕豪學長在小成發前幫我雕歌。</p>
<p>　　謝謝Alt、陳力、小花、小包、傅子睿等各位資訊校隊的學長，你們的教學和講義真的非常優秀，雖然我對快樂營的印象只有丁工乙乙😂😂😂。</p>
<h1 id="畢籌會"><a href="#畢籌會" class="headerlink" title="畢籌會"></a>畢籌會</h1><img src="/images/ckGraduation/3.jpg">
<p>　　首先要謝謝冠宇和影片組的各位和臨演們，沒有你們努力寫劇本、拍攝、配音、剪輯，是不會有最後那麼棒的影片的，也謝謝你們包容我擔心進度的怪脾氣，特別感謝行政組的仲昇一直給我做心理輔導😏😏。</p>
<p>　　也要感謝畢籌會的每一個人，整場畢業典禮的成功是由大家的努力堆砌而成的，超強的美宣組長呂暄，總是都留學校很晚的以凡、大閎、和其他各組的同學們，每個人都對這場典禮有很大的貢獻。</p>
<h1 id="感謝師長"><a href="#感謝師長" class="headerlink" title="感謝師長"></a>感謝師長</h1><p>　　謝謝王宏仁老師，雖然我對您的第一印象不太好（感覺很嚴厲），不過您曾說過的話在某些方面都是值得思考的，雖然只教授了一年也得到了不少，我也會努力成為一名有格調的人的！</p>
<p>　　謝謝黃世穎老師，您的教學能力真的一流，同樣一道題目總能用很多種不同的方式解題，而且說話邏輯清楚，不過我好像還欠您好多作業沒檢查欸XDDD</p>
<p>　　謝謝林芬蘭老師，謝謝您對我的欣賞和教導，能高一高二兩年都被您教到也是我的榮幸！</p>
<p>　　謝謝林淑玲老師，作為資訊社的指導老師管我們有沒有鎖門關冷氣也是件很辛苦的事啊XDD</p>
<p>　　謝謝王慶豪老師，老師您可放心，我一定會有成就之後再回高中看您的www</p>
<p>　　謝謝王曼莉老師，抱歉我經常性請公假，身為國文小老師卻常常缺席。您的作文教學真的很棒，不只是作文能力的提升，也是人生價值觀的成長。“建中是有神的！”</p>
<p>　　謝謝黃品菁老師，您的課真的很有趣，雖然您把我當掉了XDDD，不過還是謝謝您，我們班和您相處非常融洽☺️。</p>
<p>　　謝謝陳建州老師，高一剛進學校就對您的傳奇略有耳聞（9題!?），您的教學也是相當生動而且易懂，而且您的價值觀也十分先進而開放，請過的咖啡我有一天一定會請您吃一頓好料的OwO</p>
<p>　　謝謝彭愷恩老師，跟你說話用敬語感覺好怪(x)，你的努力大家都看到了，優秀的人普遍單身(x)，你一定能成為一位優秀的教師的！</p>
<h1 id="最後"><a href="#最後" class="headerlink" title="最後"></a>最後</h1><p>　　如果要說三年來的收穫，我想不是學業上的提升，而是結識了一群要好的摯友們，一起經歷了各種瘋狂和壯烈，一路上的成長都該感謝曾在我身邊的人。還有很多沒有寫到的話和人，我的文筆不好就不要嘴我啦xDD</p>
<img src="/images/ckGraduation/5.jpg">
<p>　　圖中的班級牌是昨天下午4點從學弟班鏘來的，果然我的高中生活狂到歪頭啦www</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2016-06-07 01:38:53&lt;/p&gt;
&lt;img src=&quot;/images/ckGraduation/4.jpg&quot;&gt;
&lt;p&gt;　　昨天的大雨讓我又想起了新生訓練時的我們，昂首闊步、不畏風雨。時光飛逝，從三年前我不想唸男校，到三年後依依不捨，沒有一刻是能與時間拉扯的。&lt;/p&gt;
    
    </summary>
    
      <category term="記事" scheme="http://fsh0524.github.io/categories/%E8%A8%98%E4%BA%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>TIOJ 1266 . 保加利亞的俄羅斯娃娃</title>
    <link href="http://fsh0524.github.io/2016/03/04/TIOJ-1266/"/>
    <id>http://fsh0524.github.io/2016/03/04/TIOJ-1266/</id>
    <published>2016-03-04T15:53:29.000Z</published>
    <updated>2016-12-09T22:22:58.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2016-12-10 06:22:58</p>
<blockquote><h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p>　　在贏得世上所有的資訊競賽後，Peter Hacker開始想要嘗試新的挑戰。因此他在俄羅斯的密碼學線上競賽中以”VerhShifr”為隊名報名了，並且很快的晉級到了在莫斯科的決賽。</p>
<a id="more"></a>
<p>　　在主辦單位主辦的參訪活動中，他們參觀了俄羅斯娃娃博物館。這個博物館中有非常多奇怪的迷宮。迷宮中都是方型的，而且牆壁都是南北向或東西向。每個展場的四個方向都有個門，博物館的最西北方是入口，最東南方則是出口。<br>　　俄羅斯的國手隊準備了有趣的遊戲和他們的對手玩。他們在每間房間放了一個獨特大小的俄羅斯娃娃。每個人必須要走過迷宮，並且收集盡可能多的娃娃，將他們一個一個裝起來。當然參賽者可以決定是否要拿某個房間的娃娃(當然要可以包住你手上最後拿的)或直接繼續往前走。<br>　　為了增加難度，一個裁判將每間房間改成只能從東方跟南方出去。Peter當然也對這些限制非常的苦惱。因此他寫了一個可以找到最佳路的程式。<br>　　現在請問你是否也能寫出這個程式呢？給你每個房間的娃娃大小，請你寫一個程式去計算最多可以拿到幾個娃娃。</p>
<h1 id="Input-Format"><a href="#Input-Format" class="headerlink" title="Input Format"></a>Input Format</h1><p>　　在標準輸入中，會先有一個數字$N$代表房間大小（$1&lt;N&lt;1000$），接著下一行開始有一個$N\times N$的表格(假設上下左右分別是北南西東方)。每個數字代表那個房間的娃娃大小。俄羅斯娃娃可以被裝進另一個的條件就是他的大小必須小於另一個要裝進他的娃娃。<br>　　娃娃大小會介於$1$到${N}^{2}$ 之間，而且不重覆出現。</p>
<h1 id="Output-Format"><a href="#Output-Format" class="headerlink" title="Output Format"></a>Output Format</h1><p>　　在標準輸出中，你只需要輸出一個數，代表最多可以收集到的娃娃個數。</p>
<h1 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input 1"></a>Sample Input 1</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">3 </div><div class="line">9 4 1 </div><div class="line">6 5 7 </div><div class="line">2 3 8</div></pre></td></tr></table></figure>

<h1 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output 1"></a>Sample Output 1</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">4</div></pre></td></tr></table></figure>

<h1 id="Sample-Input-2"><a href="#Sample-Input-2" class="headerlink" title="Sample Input 2"></a>Sample Input 2</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">4 </div><div class="line">1 15 4 5 </div><div class="line">2 10 9 16 </div><div class="line">14 7 8 3 </div><div class="line">13 6 11 12 </div></pre></td></tr></table></figure>

<h1 id="Sample-Output-2"><a href="#Sample-Output-2" class="headerlink" title="Sample Output 2"></a>Sample Output 2</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">6</div></pre></td></tr></table></figure>
<footer><strong>TIOJ</strong><cite><a href="http://tioj.infor.org/problems/1266" target="_blank" rel="external">1266</a></cite></footer></blockquote>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>　　題目要求其中一條路徑上的<strong>遞增</strong>子序列的最大長度。一開始想到了$O \left({N}^{4}\right)$的天真 DP，表格紀錄左上角到當前格的答案與答案序列最小的末數，每次花$O \left({N}^{2}\right)$轉移，發想到樹狀數組（變動區間查詢）。<br>　　從此發現可以將娃娃由小至大（為保證答案遞減）加入二維樹狀數組，先$O \left( \log { X } \log {Y} \right)$詢問最左上到當前格的最佳解，加一後$O \left( \log { X } \log {Y} \right)$更新到當前格上即可。<br>　　第一次寫二維樹狀數組，發現只是所有操作都多一層 <code>for</code> ，好寫但不好理解。</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> N 1005</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> NN 1000005</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">int</span> n, t[N][N];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">lowbit</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> x &amp; (-x);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">edit</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> d)</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = x ; i &lt;= n ; i += lowbit(i))</div><div class="line">    	<span class="keyword">for</span> (<span class="keyword">int</span> j = y ; j &lt;= n ; j += lowbit(j))</div><div class="line">        	t[i][j] = max(t[i][j], d);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> rt = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = x ; i &gt; <span class="number">0</span>; i -= lowbit(i))</div><div class="line">    	<span class="keyword">for</span> (<span class="keyword">int</span> j = y ; j &gt; <span class="number">0</span> ; j -= lowbit(j))</div><div class="line">        	rt = max(rt, t[i][j]);</div><div class="line">    <span class="keyword">return</span> rt;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> nn, x[NN], y[NN];</div><div class="line">main() &#123;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>, a ; i &lt;= n ; ++i)</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span> ; j &lt;= n ; ++j) &#123;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a);</div><div class="line">			x[a] = i, y[a] = j;</div><div class="line">		&#125;</div><div class="line">	nn = n * n;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt;= nn ; ++i)</div><div class="line">		edit(x[i], y[i], query(x[i], y[i]) + <span class="number">1</span>);</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, query(n, n));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2016-12-10 06:22:58&lt;/p&gt;
&lt;blockquote&gt;&lt;h1 id=&quot;Description&quot;&gt;&lt;a href=&quot;#Description&quot; class=&quot;headerlink&quot; title=&quot;Description&quot;&gt;&lt;/a&gt;Description&lt;/h1&gt;&lt;p&gt;　　在贏得世上所有的資訊競賽後，Peter Hacker開始想要嘗試新的挑戰。因此他在俄羅斯的密碼學線上競賽中以”VerhShifr”為隊名報名了，並且很快的晉級到了在莫斯科的決賽。&lt;/p&gt;
    
    </summary>
    
      <category term="題解" scheme="http://fsh0524.github.io/categories/%E9%A1%8C%E8%A7%A3/"/>
    
    
      <category term="TIOJ" scheme="http://fsh0524.github.io/tags/TIOJ/"/>
    
      <category term="樹狀數組" scheme="http://fsh0524.github.io/tags/%E6%A8%B9%E7%8B%80%E6%95%B8%E7%B5%84/"/>
    
  </entry>
  
  <entry>
    <title>TIOJ 1265 . 保加利亞的桌子</title>
    <link href="http://fsh0524.github.io/2016/03/04/TIOJ-1265/"/>
    <id>http://fsh0524.github.io/2016/03/04/TIOJ-1265/</id>
    <published>2016-03-04T15:01:23.000Z</published>
    <updated>2016-12-09T22:22:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2016-12-10 06:22:29</p>
<blockquote><h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p>　　想像一下，有一張保加利亞的桌子(<em>table</em>)，被分成了三列四行的小區塊。每一個區塊上都有一個獨一無二的正整數。我們說這張桌子上的整數被「正確地」安置時，代表每一橫列的數字和都是偶數，而且每個直行的數字和都是三的倍數。顯然地，若我們交換任意的兩列、或者是兩行，仍然保持這些整數安置的正確性。例如下圖所示的三個排列經過交換行列其實都是一樣的，於是它們屬於同一種安置方法。</p>
<a id="more"></a>
<p><img src="/images/TIOJ-1265/1265_1.gif"><br>　　給你十二個正整數，請問有多少種正確但不同的安置方法呢？</p>
<h1 id="Input-Format"><a href="#Input-Format" class="headerlink" title="Input Format"></a>Input Format</h1><p>　　輸入一定有兩筆測試資料，一筆佔一列，每一列有十二個不相等的正整數。這些正整數都不會超過$50$位數。</p>
<h1 id="Output-Format"><a href="#Output-Format" class="headerlink" title="Output Format"></a>Output Format</h1><p>　　對於每筆測試資料請輸出所求的種數。</p>
<h1 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">6 3 1 7 9 11 12 10 2 4 5 8 </div><div class="line">6 12 18 24 30 36 42 48 54 59 60 61 </div></pre></td></tr></table></figure>

<h1 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">40320 </div><div class="line">0</div></pre></td></tr></table></figure>
<footer><strong>TIOJ</strong><cite><a href="http://tioj.infor.org/problems/1265" target="_blank" rel="external">1265</a></cite></footer></blockquote>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>　　因為題目只檢查各行和是否為 $3$ 的倍數，各列和是否為 $2$ 的倍數，所以我只要把每個大數 $mod 6$，等價於處理把大數每位數和 $mod 3$ 跟個位數 $mod 2$ 的結果。<br>　　比較麻煩的是處理「重複數字盤」的狀況，還是被 @samsam2310 提示了才想到……=w=<br>　　先固定唯一的 ${G}_{0, 0}$ 的位置，枚舉合法的前兩列（分三堆$3\times 4$，依序查詢即等同於找堆），接著枚舉後兩列的排列，檢查四行是否皆合法。</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">char</span> str[<span class="number">51</span>];</div><div class="line"><span class="keyword">int</span> t, p[<span class="number">12</span>], l, h[<span class="number">2</span>][<span class="number">3</span>] = &#123;&#123;<span class="number">0</span>, <span class="number">4</span>, <span class="number">2</span>&#125;, &#123;<span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>&#125;&#125;, m2, m3, ans, g[<span class="number">3</span>][<span class="number">4</span>];</div><div class="line"><span class="keyword">bool</span> v[<span class="number">12</span>];</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> s;</div><div class="line">	<span class="keyword">bool</span> f;</div><div class="line">	g[x][y] = k;</div><div class="line">	<span class="keyword">if</span> (y == <span class="number">3</span>) &#123;</div><div class="line">		s = <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">4</span> ; ++i)</div><div class="line">			s += p[g[x][i]];</div><div class="line">		<span class="keyword">if</span> (s &amp; <span class="number">1</span>) <span class="keyword">return</span>;</div><div class="line">		<span class="keyword">if</span> (x == <span class="number">2</span>) &#123;</div><div class="line">			<span class="keyword">do</span> &#123;</div><div class="line">				<span class="keyword">do</span> &#123;</div><div class="line">					f = <span class="number">1</span>;</div><div class="line">					<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, m ; i &lt; <span class="number">4</span> ; ++i) &#123;</div><div class="line">						m = <span class="number">0</span>;</div><div class="line">						<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; <span class="number">3</span> ; ++j)</div><div class="line">							m += p[g[j][i]];</div><div class="line">						<span class="keyword">if</span> (m % <span class="number">3</span>) &#123;</div><div class="line">							f = <span class="number">0</span>;</div><div class="line">							<span class="keyword">break</span>;</div><div class="line">						&#125;</div><div class="line">					&#125;</div><div class="line">					<span class="keyword">if</span> (f) ++ans;</div><div class="line">				&#125; <span class="keyword">while</span> (next_permutation(g[<span class="number">2</span>], g[<span class="number">2</span>] + <span class="number">4</span>));</div><div class="line">			&#125; <span class="keyword">while</span> (next_permutation(g[<span class="number">1</span>], g[<span class="number">1</span>] + <span class="number">4</span>));</div><div class="line">			<span class="keyword">return</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">12</span> ; ++i) &#123;</div><div class="line">			<span class="keyword">if</span> (v[i]) <span class="keyword">continue</span>;</div><div class="line">			v[i] = <span class="number">1</span>;</div><div class="line">			dfs(x + <span class="number">1</span>, <span class="number">0</span>, i);</div><div class="line">			v[i] = <span class="number">0</span>;</div><div class="line">			<span class="keyword">return</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = k + <span class="number">1</span> ; i &lt; <span class="number">12</span> ; ++i) &#123;</div><div class="line">		<span class="keyword">if</span> (!v[i]) &#123;</div><div class="line">			v[i] = <span class="number">1</span>;</div><div class="line">			dfs(x, y + <span class="number">1</span>, i);</div><div class="line">			v[i] = <span class="number">0</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">main() &#123;</div><div class="line">	t = <span class="number">2</span>;</div><div class="line">	<span class="keyword">while</span> (t--) &#123;</div><div class="line">		<span class="built_in">memset</span>(p, <span class="number">0</span>, <span class="keyword">sizeof</span>(p));</div><div class="line">		<span class="built_in">memset</span>(v, <span class="number">0</span>, <span class="keyword">sizeof</span>(v));</div><div class="line">		<span class="built_in">memset</span>(g, <span class="number">0</span>, <span class="keyword">sizeof</span>(g));</div><div class="line">		ans = <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">12</span> ; ++i) &#123;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%s"</span>, str);</div><div class="line">			l = <span class="built_in">strlen</span>(str);</div><div class="line">			m2 = (str[l - <span class="number">1</span>] - <span class="string">'0'</span>) &amp; <span class="number">1</span>;</div><div class="line">			m3 = <span class="number">0</span>;</div><div class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; l ; ++j)</div><div class="line">				m3 += str[j] - <span class="string">'0'</span>;</div><div class="line">			m3 %= <span class="number">3</span>;</div><div class="line">			<span class="keyword">if</span> (v[h[m2][m3]]) p[i] += <span class="number">6</span>;</div><div class="line">			v[h[m2][m3]] = <span class="number">1</span>;</div><div class="line">			p[i] += h[m2][m3];</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">memset</span>(v, <span class="number">0</span>, <span class="keyword">sizeof</span>(v));</div><div class="line">		v[<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">		dfs(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2016-12-10 06:22:29&lt;/p&gt;
&lt;blockquote&gt;&lt;h1 id=&quot;Description&quot;&gt;&lt;a href=&quot;#Description&quot; class=&quot;headerlink&quot; title=&quot;Description&quot;&gt;&lt;/a&gt;Description&lt;/h1&gt;&lt;p&gt;　　想像一下，有一張保加利亞的桌子(&lt;em&gt;table&lt;/em&gt;)，被分成了三列四行的小區塊。每一個區塊上都有一個獨一無二的正整數。我們說這張桌子上的整數被「正確地」安置時，代表每一橫列的數字和都是偶數，而且每個直行的數字和都是三的倍數。顯然地，若我們交換任意的兩列、或者是兩行，仍然保持這些整數安置的正確性。例如下圖所示的三個排列經過交換行列其實都是一樣的，於是它們屬於同一種安置方法。&lt;/p&gt;
    
    </summary>
    
      <category term="題解" scheme="http://fsh0524.github.io/categories/%E9%A1%8C%E8%A7%A3/"/>
    
    
      <category term="TIOJ" scheme="http://fsh0524.github.io/tags/TIOJ/"/>
    
      <category term="DFS" scheme="http://fsh0524.github.io/tags/DFS/"/>
    
  </entry>
  
  <entry>
    <title>TIOJ 1264 . 保加利亞的色彩繽紛</title>
    <link href="http://fsh0524.github.io/2016/03/04/TIOJ-1264/"/>
    <id>http://fsh0524.github.io/2016/03/04/TIOJ-1264/</id>
    <published>2016-03-04T14:56:03.000Z</published>
    <updated>2016-12-09T22:22:31.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2016-12-10 06:22:31</p>
<blockquote><h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p>　　在一個由 $n\times k$ 個單位正方形排成的矩形表格上，如果某兩個格子共用一個邊，那麼我們說這兩個格子相鄰。請寫一個程式計算出有多少種方法對表格的某些格子塗上黑色，使得這個表格上的每一個小格子，都恰有一個相鄰的格子被塗上黑色。</p>
<a id="more"></a>
<h1 id="Input-Format"><a href="#Input-Format" class="headerlink" title="Input Format"></a>Input Format</h1><p>　　包含兩個以空白隔開的整數 $n,k, (0&lt;n&lt;500,0&lt;k&lt;32)$。</p>
<h1 id="Output-Format"><a href="#Output-Format" class="headerlink" title="Output Format"></a>Output Format</h1><p>　　請輸出有多少種不同的塗色方式。</p>
<h1 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">2 2</div></pre></td></tr></table></figure>

<h1 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">4</div></pre></td></tr></table></figure>
<footer><strong>TIOJ</strong><cite><a href="http://tioj.infor.org/problems/1264" target="_blank" rel="external">1264</a></cite></footer></blockquote>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>　　懶惰的我先寫了無腦 DFS，不過打表發現答案好像有規律，之後再回來看吧⋯⋯<br>　　每走完一格便檢查自己左上方的格子，記得特判邊界就輕鬆 AC 了。</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">int</span> n, k, a[<span class="number">500</span>][<span class="number">32</span>];</div><div class="line"><span class="keyword">int</span> d[<span class="number">8</span>][<span class="number">2</span>] = &#123;</div><div class="line">	&#123;<span class="number">-2</span>, <span class="number">0</span>&#125;, &#123;<span class="number">-1</span>, <span class="number">-1</span>&#125;, &#123;<span class="number">-1</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, <span class="number">-2</span>&#125;, <span class="comment">/* isBlack */</span></div><div class="line">	&#123;<span class="number">-1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">-1</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">int</span> ans;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> b, tx, ty;</div><div class="line">	<span class="keyword">if</span> (y &gt;= k) &#123;</div><div class="line">		<span class="keyword">if</span> (x &gt; <span class="number">0</span>) &#123;</div><div class="line">			b = <span class="number">0</span>;</div><div class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">4</span> ; j &lt; <span class="number">8</span> ; ++j) &#123;</div><div class="line">				tx = x - <span class="number">1</span> + d[j][<span class="number">0</span>], ty = y - <span class="number">1</span> + d[j][<span class="number">1</span>];</div><div class="line">				<span class="keyword">if</span> (<span class="number">0</span> &lt;= tx &amp;&amp; tx &lt; n &amp;&amp; <span class="number">0</span> &lt;= ty &amp;&amp; ty &lt; k) &#123;</div><div class="line">					<span class="keyword">if</span> (a[tx][ty] == <span class="number">1</span>) ++b;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span> (b != <span class="number">1</span>) <span class="keyword">return</span>;</div><div class="line">		&#125;</div><div class="line">		dfs(x + <span class="number">1</span>, <span class="number">0</span>);</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> (x &gt;= n) &#123;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; k ; ++i) &#123;</div><div class="line">			b = <span class="number">0</span>;</div><div class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">4</span> ; j &lt; <span class="number">7</span> ; ++j) &#123;</div><div class="line">				tx = n - <span class="number">1</span> + d[j][<span class="number">0</span>], ty = i + d[j][<span class="number">1</span>];</div><div class="line">				<span class="keyword">if</span> (<span class="number">0</span> &lt;= tx &amp;&amp; tx &lt; n &amp;&amp; <span class="number">0</span> &lt;= ty &amp;&amp; ty &lt; k) &#123;</div><div class="line">					<span class="keyword">if</span> (a[tx][ty] == <span class="number">1</span>) ++b;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span> (b != <span class="number">1</span>) <span class="keyword">return</span>;</div><div class="line">		&#125;</div><div class="line">		++ans;</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> (x &gt; <span class="number">0</span> &amp;&amp; y &gt; <span class="number">0</span>) &#123;</div><div class="line">		b = <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">4</span> ; j &lt; <span class="number">8</span> ; ++j) &#123;</div><div class="line">			tx = x - <span class="number">1</span> + d[j][<span class="number">0</span>], ty = y - <span class="number">1</span> + d[j][<span class="number">1</span>];</div><div class="line">			<span class="keyword">if</span> (<span class="number">0</span> &lt;= tx &amp;&amp; tx &lt; n &amp;&amp; <span class="number">0</span> &lt;= ty &amp;&amp; ty &lt; k) &#123;</div><div class="line">				<span class="keyword">if</span> (a[tx][ty] == <span class="number">1</span>) ++b;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> (b != <span class="number">1</span>) <span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	b = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">4</span> ; ++i) &#123;</div><div class="line">		tx = x + d[i][<span class="number">0</span>], ty = y + d[i][<span class="number">1</span>];</div><div class="line">		<span class="keyword">if</span> (<span class="number">0</span> &lt;= tx &amp;&amp; tx &lt; n &amp;&amp; <span class="number">0</span> &lt;= ty &amp;&amp; ty &lt; k) &#123;</div><div class="line">			<span class="keyword">if</span> (a[tx][ty] == <span class="number">1</span>) ++b;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> (b) &#123;</div><div class="line">		a[x][y] = <span class="number">0</span>;</div><div class="line">		dfs(x, y + <span class="number">1</span>);</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (x &gt; <span class="number">0</span>)&#123;</div><div class="line">		a[x][y] = <span class="number">1</span>;</div><div class="line">		dfs(x, y + <span class="number">1</span>);</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		a[x][y] = <span class="number">1</span>;</div><div class="line">		dfs(x, y + <span class="number">1</span>);</div><div class="line">		a[x][y] = <span class="number">0</span>;</div><div class="line">		dfs(x, y + <span class="number">1</span>);</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">main() &#123;</div><div class="line">	<span class="keyword">for</span> (n = <span class="number">1</span> ; n &lt; <span class="number">35</span> ; ++n) &#123;</div><div class="line">		<span class="keyword">for</span> (k = <span class="number">1</span> ; k &lt; <span class="number">35</span> ; ++k) &#123;</div><div class="line">			ans = <span class="number">0</span>;</div><div class="line">			dfs(<span class="number">0</span>, <span class="number">0</span>);</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"%d "</span>, ans);</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;k);</div><div class="line">	dfs(<span class="number">0</span>, <span class="number">0</span>);</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2016-12-10 06:22:31&lt;/p&gt;
&lt;blockquote&gt;&lt;h1 id=&quot;Description&quot;&gt;&lt;a href=&quot;#Description&quot; class=&quot;headerlink&quot; title=&quot;Description&quot;&gt;&lt;/a&gt;Description&lt;/h1&gt;&lt;p&gt;　　在一個由 $n\times k$ 個單位正方形排成的矩形表格上，如果某兩個格子共用一個邊，那麼我們說這兩個格子相鄰。請寫一個程式計算出有多少種方法對表格的某些格子塗上黑色，使得這個表格上的每一個小格子，都恰有一個相鄰的格子被塗上黑色。&lt;/p&gt;
    
    </summary>
    
      <category term="題解" scheme="http://fsh0524.github.io/categories/%E9%A1%8C%E8%A7%A3/"/>
    
    
      <category term="TIOJ" scheme="http://fsh0524.github.io/tags/TIOJ/"/>
    
      <category term="DFS" scheme="http://fsh0524.github.io/tags/DFS/"/>
    
  </entry>
  
  <entry>
    <title>TIOJ 1263 . 保加利亞的多邊形</title>
    <link href="http://fsh0524.github.io/2016/03/04/TIOJ-1263/"/>
    <id>http://fsh0524.github.io/2016/03/04/TIOJ-1263/</id>
    <published>2016-03-04T14:46:27.000Z</published>
    <updated>2016-12-09T22:22:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2016-12-10 06:22:32</p>
<blockquote><h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p>　　保加利亞的多邊形是很特別的，它們都是凸多邊形，而且都恰好有$K$個邊。給定平面上的 $N$ 個相異位置的點，而且不會有三個點共線的情形。<br>　　請找出以其中$K$個頂點所圍成的保加利亞多邊形之最小面積。</p>
<a id="more"></a>
<h1 id="Input-Format"><a href="#Input-Format" class="headerlink" title="Input Format"></a>Input Format</h1><p>　　第一列有兩個整數 $N,K,\left( 0&lt;N&lt;50,0&lt;K&lt;11 \right) $。<br>　　接下來有$N$列每列有兩個整數描述一個點的座標。所有點的座標值都是非負整數，並且不超過$9999$。</p>
<h1 id="Output-Format"><a href="#Output-Format" class="headerlink" title="Output Format"></a>Output Format</h1><p>　　你的程式應該輸出凸$K$邊形的最小面積的整數部分，如果找不到這樣的多邊形，請輸出 $0$。</p>
<h1 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">4 3 </div><div class="line">0 0 </div><div class="line">1 1 </div><div class="line">0 10 </div><div class="line">10 0 </div></pre></td></tr></table></figure>

<h1 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">5</div></pre></td></tr></table></figure>
<footer><strong>TIOJ</strong><cite><a href="http://tioj.infor.org/problems/1263" target="_blank" rel="external">1263</a></cite></footer></blockquote>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>　　天真 DFS，遇到比當前答案大的面積時剪掉。<br>　　需要注意的是多邊形頭尾點的特判，一開始亂寫 WA 了好多次zzz</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">struct</span> point&#123;</div><div class="line">	<span class="keyword">int</span> x, y;</div><div class="line">&#125; p[<span class="number">100</span>];</div><div class="line"><span class="keyword">int</span> n, k, si, s[<span class="number">100</span>], ans;</div><div class="line"><span class="keyword">bool</span> v[<span class="number">100</span>];</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">crx</span><span class="params">(point e1, point e2, point e3)</span> </span>&#123;</div><div class="line">	<span class="keyword">return</span> ((e2.x-e1.x)*(e3.y-e2.y)-(e3.x-e2.x)*(e2.y-e1.y)) &gt; <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">car</span><span class="params">(point e1, point e2, point e3)</span> </span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="built_in">abs</span>(e1.x*e2.y+e2.x*e3.y+e3.x*e1.y-e1.y*e2.x-e2.y*e3.x-e3.y*e1.x);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> pi, <span class="keyword">int</span> ar)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (pi == <span class="number">-1</span>) &#123;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; ++i) dfs(i, <span class="number">0</span>);</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	v[pi] = <span class="number">1</span>, s[si++] = pi;</div><div class="line">	<span class="keyword">if</span> (si &lt; <span class="number">3</span>) &#123;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; ++i)</div><div class="line">			<span class="keyword">if</span> (!v[i]) dfs(i, <span class="number">0</span>);</div><div class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (crx(p[s[si - <span class="number">3</span>]], p[s[si - <span class="number">2</span>]], p[s[si - <span class="number">1</span>]]) &amp;&amp; crx(p[s[si - <span class="number">2</span>]], p[s[si - <span class="number">1</span>]], p[s[<span class="number">0</span>]]) &amp;&amp; crx(p[s[si - <span class="number">1</span>]], p[s[<span class="number">0</span>]], p[s[<span class="number">1</span>]])) &#123;</div><div class="line">		ar += car(p[s[<span class="number">0</span>]], p[s[si - <span class="number">2</span>]], p[s[si - <span class="number">1</span>]]);</div><div class="line">		<span class="keyword">if</span> (ar &lt; ans) &#123;</div><div class="line">			<span class="keyword">if</span> (si &gt;= k) &#123;</div><div class="line">				ans = ar;</div><div class="line">			&#125; <span class="keyword">else</span> &#123;</div><div class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; ++i)</div><div class="line">					<span class="keyword">if</span> (!v[i]) dfs(i, ar);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	--si, v[pi] = <span class="number">0</span>;</div><div class="line">	<span class="keyword">return</span>;</div><div class="line">&#125;</div><div class="line">main() &#123;</div><div class="line">	ans = INF;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;k);</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; ++i)</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;p[i].x, &amp;p[i].y);</div><div class="line">	<span class="keyword">if</span> (n &lt; k) <span class="built_in">puts</span>(<span class="string">"0"</span>);</div><div class="line">	dfs(<span class="number">-1</span>, <span class="number">0</span>);</div><div class="line">	<span class="keyword">if</span> (ans == INF) <span class="built_in">puts</span>(<span class="string">"0"</span>);</div><div class="line">	<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans &gt;&gt; <span class="number">1</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2016-12-10 06:22:32&lt;/p&gt;
&lt;blockquote&gt;&lt;h1 id=&quot;Description&quot;&gt;&lt;a href=&quot;#Description&quot; class=&quot;headerlink&quot; title=&quot;Description&quot;&gt;&lt;/a&gt;Description&lt;/h1&gt;&lt;p&gt;　　保加利亞的多邊形是很特別的，它們都是凸多邊形，而且都恰好有$K$個邊。給定平面上的 $N$ 個相異位置的點，而且不會有三個點共線的情形。&lt;br&gt;　　請找出以其中$K$個頂點所圍成的保加利亞多邊形之最小面積。&lt;/p&gt;
    
    </summary>
    
      <category term="題解" scheme="http://fsh0524.github.io/categories/%E9%A1%8C%E8%A7%A3/"/>
    
    
      <category term="TIOJ" scheme="http://fsh0524.github.io/tags/TIOJ/"/>
    
      <category term="計算幾何" scheme="http://fsh0524.github.io/tags/%E8%A8%88%E7%AE%97%E5%B9%BE%E4%BD%95/"/>
    
      <category term="DFS" scheme="http://fsh0524.github.io/tags/DFS/"/>
    
  </entry>
  
  <entry>
    <title>割點 ( Articulation Point )</title>
    <link href="http://fsh0524.github.io/2016/03/03/Articulation-Point/"/>
    <id>http://fsh0524.github.io/2016/03/03/Articulation-Point/</id>
    <published>2016-03-03T08:21:48.000Z</published>
    <updated>2016-10-10T23:10:20.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2016-10-11 07:10:20</p>
<p>　　Articulation Point，顧名思義即接合點（以下簡稱 AP）。定義即在一張無向圖上的某個點，該點滿足當點被從圖上移除後，圖會被分成兩個以上的連通分量。如是：<br><a id="more"></a><br><img src="/images/Articulation-Point/ArticulationPoints.png" title="圖片來源：http://www.geeksforgeeks.org/"><br>　　這時我們大略可以歸納出尋找 AP 的天真法：對每個點拔掉後 DFS。這是個很傻很天真的暴力作法，時間複雜度 $O(VE)$ 實在是太大了。為此 Tarjan 發明了一個基於 DFS Tree 的 $O(V+E)$ 做法。<br><img src="/images/Articulation-Point/dfs3.png" title="圖片來源：http://sokoban.ws/"><br>　　上圖中黑色的邊在此稱為「Tree Edge」，而紅色的邊則稱為「Back Edge」，點上的數字則是 DFS 的遍歷順序。由此我們可以發現兩件事：</p>
<ol>
<li>DFS Tree 的根節點有超過一條 Tree Edge 時，根節點必為 AP。</li>
<li>DFS Tree 上的任意非根節點 $u$ 的其中 $1$ 棵子樹上沒有 Back Edge 通往 $u$ 的祖先們時，$u$ 必為 AP。<br>　　由此兩件事，我們可以利用 DFS 的遍歷順序來驗證每個點是否為 AP。<br>　　在此我們定義兩個變數：${dfn}_{u}$ 與 ${low}_{u}$。</li>
</ol>
<ul>
<li>${dfn}_{u}$：$u$ 點被遍歷到的順序。</li>
<li>${low}_{u}$：$u$ 或 $u$ 的子樹能通過 Back Edge 到達最早的點的 ${dfn}_{u}$。<br>　　${dfn}_{u}$ 值的求取基礎上是沒什麼問題的（DFS 就過去了），這裡直接研究如何取得 ${low}_{u}$ 值。<br>　　將遍歷的點之 ${low}_{u}$ 先等於 ${dfn}_{u}$，找到 Back Edge 時再更新祖先的 ${low}_{u}$ 值。<br>　　Tree Edge： <code>low[u] = min(low[u], low[v]);</code><br>　　Back Edge： <code>low[u] = min(low[u], dfn[v]);</code></li>
</ul>
<p>　　回到 AP 的第 2 個特性：<br>$$\exists Tree Edge\left( u,v \right) :{ dfn }_{ u }\le { low }_{ v }\wedge u\neq root\Leftrightarrow u\in AP$$</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line">本程式中是用 std::vector 儲存與各點有連接之點編號</div><div class="line">如 G[u] 即為和 u 點相接之點集合</div><div class="line">*/</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">tarjan</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> p)</span></span></div><div class="line">&#123;   <span class="comment">// u 為當前點, p 為當前點之母節點</span></div><div class="line">	<span class="comment">// cnt 為 DFS 次序</span></div><div class="line">    low[u] = dfn[u] = ++cnt;</div><div class="line">    <span class="keyword">int</span> i, v;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span> ; i &lt; G[u].size() ; ++i) &#123;</div><div class="line">        v = G[u][i];</div><div class="line">        <span class="keyword">if</span> (u == rt &amp;&amp; !dfn[v]) ++c;</div><div class="line">        <span class="keyword">if</span> (!dfn[v])&#123;</div><div class="line">        	<span class="comment">// (u, v) 為 Tree Edge</span></div><div class="line">            tarjan(v, u);</div><div class="line">            low[u] = min(low[u], low[v]);</div><div class="line">            <span class="keyword">if</span> (dfn[u] &lt;= low[v] &amp;&amp; u != rt) ge[u] = <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// 注意不可以同一條邊走兩次，且根節點特判</span></div><div class="line">        <span class="keyword">if</span> (v != p &amp;&amp; p != <span class="number">-1</span>) low[u] = min(low[u], dfn[v]);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2016-10-11 07:10:20&lt;/p&gt;
&lt;p&gt;　　Articulation Point，顧名思義即接合點（以下簡稱 AP）。定義即在一張無向圖上的某個點，該點滿足當點被從圖上移除後，圖會被分成兩個以上的連通分量。如是：&lt;br&gt;
    
    </summary>
    
      <category term="記事" scheme="http://fsh0524.github.io/categories/%E8%A8%98%E4%BA%8B/"/>
    
    
      <category term="Graph" scheme="http://fsh0524.github.io/tags/Graph/"/>
    
      <category term="Tarjan" scheme="http://fsh0524.github.io/tags/Tarjan/"/>
    
  </entry>
  
  <entry>
    <title>TIOJ 1119 . 複雜之河內塔問題</title>
    <link href="http://fsh0524.github.io/2016/03/03/TIOJ-1119/"/>
    <id>http://fsh0524.github.io/2016/03/03/TIOJ-1119/</id>
    <published>2016-03-03T06:41:16.000Z</published>
    <updated>2016-03-04T14:38:17.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2016-03-04 10:38:17</p>
<blockquote><h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p>　　考慮以下的「河內之塔」的一種變化型態。一平面上豎著$A,B,C$三根小木樁，其中的木樁$A$由上而下套著一些圓環，共有若干種尺寸，每種尺寸的圓環各有若干個，由小而大排列，如圖所示。假設相同尺寸的圓環都不一樣(如下圖所示，我們可將圓環由上而下編號為$1$、$2$、$3$、…)。現在我們想要將所有這些圓環由木樁$A$搬到木樁$C$，而使得最後在木樁$C$上面的圓環編號由上而下仍為$1$、$2$、$3$、…。</p>
<a id="more"></a>
<p>　　搬動的規則如下：<br>-　一次只能搬動一個圓環。<br>-　每次搬動都須由某根木樁搬到另一根木樁，圓環不能被暫時放到非木樁的其他地方。<br>-　對任何木樁上任意兩個相鄰圓環而言，上面的圓環一定不能比下面的圓環大。<br>　　此題便是要請你設計一個程式來求出最少須搬移的次數。以下圖為例，最小尺寸的圓環有$1$個，次小的有$2$個，最大的圓環有$1$個。圖中所顯示的搬移方式是最佳解，共須搬移$9$次。<br>　　<img src="/images/TIOJ-1119/0.png"><br>　　條件限制：圓環的尺寸種類最少$1$種，最多$10$種。每種圓環的數量介於$1$至$10$個之間。</p>
<h1 id="Input-Format"><a href="#Input-Format" class="headerlink" title="Input Format"></a>Input Format</h1><p>　　輸入檔可能包含<font color="red">非常大量</font>的測試資料。<br>　　每一筆測試資料的第一列有一個正整數$k$，表示有$k$種尺寸的圓環。<br>　　第二列有$k$個正整數，表示由小到大之尺寸各自的圓環數量，正整數之間以空白隔開。</p>
<h1 id="Output-Format"><a href="#Output-Format" class="headerlink" title="Output Format"></a>Output Format</h1><p>　　對於每筆測試資料請輸出滿足題目所求之最小搬動次數。</p>
<h1 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">3</div><div class="line">1 2 1</div><div class="line">5</div><div class="line">1 1 1 1 1</div></pre></td></tr></table></figure>

<h1 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">9</div><div class="line">31</div></pre></td></tr></table></figure>
<footer><strong>TIOJ</strong><cite><a href="http://tioj.infor.org/problems/1119" target="_blank" rel="external">1119</a></cite></footer></blockquote>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>　　在此定義第 $i$ 種甜甜圈有 ${d}_{i}$ 個。<br>　　經由觀察可以發現：<br>　　1. 其實中間的甜甜圈都能夠用經典的河內塔移動方式維持順序。<br>$${ dp }_{ n }=\sum _{ i=0 }^{ n }{ { d }_{ i }\cdot { 2 }^{ n-i-1 } } \Leftrightarrow \begin{cases} { dp }_{ n }=2{ dp }_{ n-1 }+{ d }_{ n } \\ dp_{ 0 }={ d }_{ 0 } \end{cases}\left( n\in \mathbb{N} \right) $$<br>　　2. 最上層的甜甜圈，移動它們只需要花費 $2{d}_{0} - 1$ 步。<br>　　3. 如果最底層有多於 $1$ 個甜甜圈，移動它們將需要多花費 ${d}_{i}$ 步。
　　</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="keyword">int</span> dp[<span class="number">10</span>], d[<span class="number">10</span>], k, a;</div><div class="line">main() &#123;</div><div class="line">	<span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;k)) &#123;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; k ; ++i)</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;d[i]);</div><div class="line">		dp[<span class="number">0</span>] = d[<span class="number">0</span>], a = <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt; k ; ++i)</div><div class="line">			dp[i] = dp[i - <span class="number">1</span>] * <span class="number">2</span> + d[i];</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = k - <span class="number">1</span> ; i &gt;= <span class="number">0</span> ; --i)</div><div class="line">			<span class="keyword">if</span> (i) &#123;</div><div class="line">				a += dp[i];</div><div class="line">				<span class="keyword">if</span> (d[i] == <span class="number">1</span>) <span class="keyword">break</span>;</div><div class="line">				<span class="keyword">else</span> a += d[i];</div><div class="line">			&#125; <span class="keyword">else</span> a += d[i] * <span class="number">2</span> - <span class="number">1</span>;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, a);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2016-03-04 10:38:17&lt;/p&gt;
&lt;blockquote&gt;&lt;h1 id=&quot;Description&quot;&gt;&lt;a href=&quot;#Description&quot; class=&quot;headerlink&quot; title=&quot;Description&quot;&gt;&lt;/a&gt;Description&lt;/h1&gt;&lt;p&gt;　　考慮以下的「河內之塔」的一種變化型態。一平面上豎著$A,B,C$三根小木樁，其中的木樁$A$由上而下套著一些圓環，共有若干種尺寸，每種尺寸的圓環各有若干個，由小而大排列，如圖所示。假設相同尺寸的圓環都不一樣(如下圖所示，我們可將圓環由上而下編號為$1$、$2$、$3$、…)。現在我們想要將所有這些圓環由木樁$A$搬到木樁$C$，而使得最後在木樁$C$上面的圓環編號由上而下仍為$1$、$2$、$3$、…。&lt;/p&gt;
    
    </summary>
    
      <category term="題解" scheme="http://fsh0524.github.io/categories/%E9%A1%8C%E8%A7%A3/"/>
    
    
      <category term="DP" scheme="http://fsh0524.github.io/tags/DP/"/>
    
      <category term="TIOJ" scheme="http://fsh0524.github.io/tags/TIOJ/"/>
    
  </entry>
  
  <entry>
    <title>TIOJ 1011 . Edit Distance In Numbers</title>
    <link href="http://fsh0524.github.io/2016/03/03/TIOJ-1011/"/>
    <id>http://fsh0524.github.io/2016/03/03/TIOJ-1011/</id>
    <published>2016-03-03T05:39:36.000Z</published>
    <updated>2016-03-03T08:22:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2016-03-03 04:22:32</p>
<blockquote><h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p>　　對於字串來說，Edit Distance是一個著名的DP問題。現在我們把這個問題弄得簡單一點，例如：把字串換成數字。對於一個數字$A$，我們想要藉由某些操作換成數字$B$。而對於整數$K$的一個合法的操作包括以下三種情形：</p>
<ul>
<li>乘以 $2$ 加 $1$，即 $K=2K+1$</li>
<li>乘以 $2$，即 $K=2K$</li>
<li>除以 $2$，即 $K=\lfloor K/2\rfloor$</li>
</ul>
<p>給定整數 $A$ 和 $B$，請你求出最小的操作次數 $N$使得從 $A$ 開始操作 $N$ 次可以換成 $B$。</p>
<a id="more"></a>
<h1 id="Input-Format"><a href="#Input-Format" class="headerlink" title="Input Format"></a>Input Format</h1><p>　　包含兩個數字$A, B$ ($0 \leq A, B \leq {2}^{31}$)。</p>
<h1 id="Output-Format"><a href="#Output-Format" class="headerlink" title="Output Format"></a>Output Format</h1><p>　　請輸出最小操作次數 $N$。</p>
<h1 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">17</div><div class="line">15</div></pre></td></tr></table></figure>

<h1 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">7</div></pre></td></tr></table></figure>
<footer><strong>TIOJ</strong><cite><a href="http://tioj.infor.org/problems/1011" target="_blank" rel="external">1011</a></cite></footer></blockquote>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>　　將題目轉化成在二元樹上找最短路徑，發現最短路徑必通過最小共同祖先。</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> a, b, ans;</div><div class="line">main() &#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span>, &amp;a, &amp;b);</div><div class="line">    <span class="keyword">while</span> (a != b) &#123;</div><div class="line">        <span class="keyword">if</span> (a &gt; b) a &gt;&gt;= <span class="number">1</span>;</div><div class="line">        <span class="keyword">else</span> b &gt;&gt;= <span class="number">1</span>;</div><div class="line">        ++ans;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2016-03-03 04:22:32&lt;/p&gt;
&lt;blockquote&gt;&lt;h1 id=&quot;Description&quot;&gt;&lt;a href=&quot;#Description&quot; class=&quot;headerlink&quot; title=&quot;Description&quot;&gt;&lt;/a&gt;Description&lt;/h1&gt;&lt;p&gt;　　對於字串來說，Edit Distance是一個著名的DP問題。現在我們把這個問題弄得簡單一點，例如：把字串換成數字。對於一個數字$A$，我們想要藉由某些操作換成數字$B$。而對於整數$K$的一個合法的操作包括以下三種情形：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;乘以 $2$ 加 $1$，即 $K=2K+1$&lt;/li&gt;
&lt;li&gt;乘以 $2$，即 $K=2K$&lt;/li&gt;
&lt;li&gt;除以 $2$，即 $K=\lfloor K/2\rfloor$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;給定整數 $A$ 和 $B$，請你求出最小的操作次數 $N$使得從 $A$ 開始操作 $N$ 次可以換成 $B$。&lt;/p&gt;
    
    </summary>
    
      <category term="題解" scheme="http://fsh0524.github.io/categories/%E9%A1%8C%E8%A7%A3/"/>
    
    
      <category term="TIOJ" scheme="http://fsh0524.github.io/tags/TIOJ/"/>
    
      <category term="SPP" scheme="http://fsh0524.github.io/tags/SPP/"/>
    
      <category term="Binary Tree" scheme="http://fsh0524.github.io/tags/Binary-Tree/"/>
    
  </entry>
  
  <entry>
    <title>TIOJ 1008 . 量杯問題</title>
    <link href="http://fsh0524.github.io/2016/03/03/TIOJ-1008/"/>
    <id>http://fsh0524.github.io/2016/03/03/TIOJ-1008/</id>
    <published>2016-03-03T03:23:07.000Z</published>
    <updated>2016-03-03T08:22:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2016-03-03 04:22:35</p>
<blockquote><h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p>　　這裡有各種不同容量的量杯可以裝水，可是有時候所有量杯的容量都不是剛好我們想要的，因此我們要用些技巧來量出我們所需要的水量。下列三項分別算一個動作：</p>
<ul>
<li>將一個量杯裝滿水</li>
<li>將一個量杯內的水倒光</li>
<li>將一個量杯內的水倒到另一個量杯內，倒滿或是倒光為止</li>
</ul>
<p>　　請寫一個程式，給定量杯數量和每一個量杯的容量，請算出最少需要幾個動作來達成目標，或是不可能做到。注意：所要的水必須只裝在一個量杯內，不能由多個量杯的水量總合來達成目標，另外，所有量杯一開始都是空的。</p>
<a id="more"></a>
<h1 id="Input-Format"><a href="#Input-Format" class="headerlink" title="Input Format"></a>Input Format</h1><p>　　每次輸入三行，第一行有一個數字 $n$，代表量杯數量，其中 $1 \le n \le 5$，第二行有 $n$ 個數字 $m_1,m_2,…,m_n$，皆以一個空白分隔，分別代表每一個量杯的容量，其中 $1 \le m_i \le 50$，第三行有一個數字 $t$，代表要量出的水量，其中 $1 \le t \le 50$。</p>
<h1 id="Output-Format"><a href="#Output-Format" class="headerlink" title="Output Format"></a>Output Format</h1><p>　　對於每一筆輸入，請輸出一個正整數，代表達成目標所需的步驟數，或是輸出 <code>-1</code>，代表不可能做到。</p>
<h1 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">3 </div><div class="line">5 8 11 </div><div class="line">2 </div></pre></td></tr></table></figure>

<h1 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">4</div></pre></td></tr></table></figure>
<footer><strong>TIOJ</strong><cite><a href="http://tioj.infor.org/problems/1008" target="_blank" rel="external">1008</a></cite></footer></blockquote>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>　　簡單的狀態壓縮加上 BFS，不過狀態數太多（$\ge {51}^{5}$）需要 Hash 一下，我用 <code>std::unordered_set</code> 做 Hash。<br>　　我把 <code>int</code> 的每 6 個位元當一個量杯來用，不用用到 $mod$，改用位元運算。</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_set&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">int</span> g, n, m[<span class="number">5</span>], t, mx, a[<span class="number">5</span>], ans, sz, b[<span class="number">5</span>];</div><div class="line"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; Q;</div><div class="line"><span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt; v;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">deQ</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> s = Q.front();</div><div class="line">    Q.pop();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; ++i) &#123;</div><div class="line">        b[i] = s &amp; <span class="number">63</span>;</div><div class="line">        s &gt;&gt;= <span class="number">6</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">enQ</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> s = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">1</span> ; i &gt;= <span class="number">0</span> ; --i) &#123;</div><div class="line">        <span class="keyword">if</span> (a[i] &lt; <span class="number">0</span> || a[i] &gt; m[i]) <span class="keyword">return</span>;</div><div class="line">        s &lt;&lt;= <span class="number">6</span>;</div><div class="line">        s |= a[i];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (v.find(s) != v.end()) <span class="keyword">return</span>;</div><div class="line">    v.insert(s);</div><div class="line">    Q.push(s);</div><div class="line">&#125;</div><div class="line">main() &#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; ++i) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;m[i]);</div><div class="line">        mx = max(mx, m[i]);</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;t);</div><div class="line">    g = m[<span class="number">0</span>];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt; n ; ++i)</div><div class="line">        g = __gcd(g, m[i]);</div><div class="line">    <span class="keyword">if</span> (t &lt;= mx &amp;&amp; t % g == <span class="number">0</span>) &#123;</div><div class="line">        enQ();</div><div class="line">        <span class="keyword">while</span> (!Q.empty()) &#123;</div><div class="line">            ++ans;</div><div class="line">            sz = Q.size();</div><div class="line">            <span class="keyword">while</span> (sz--) &#123;</div><div class="line">                deQ();</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; ++i) &#123;</div><div class="line">                    <span class="keyword">if</span> (b[i] == t) &#123;</div><div class="line">                        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans - <span class="number">1</span>);</div><div class="line">                        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">                    &#125;</div><div class="line">                    a[i] = b[i];</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; ++i) &#123;</div><div class="line">                    a[i] = m[i];</div><div class="line">                    enQ();</div><div class="line">                    a[i] = <span class="number">0</span>;</div><div class="line">                    enQ();</div><div class="line">                    a[i] = b[i];</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; ++i)</div><div class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; n ; ++j) &#123;</div><div class="line">                        <span class="keyword">if</span> (i == j) <span class="keyword">continue</span>;</div><div class="line">                        a[i] = max(b[i] + b[j] - m[j], <span class="number">0</span>);</div><div class="line">                        a[j] = min(b[i] + b[j], m[j]);</div><div class="line">                        enQ();</div><div class="line">                        a[i] = b[i], a[j] = b[j];</div><div class="line">                    &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">puts</span>(<span class="string">"-1"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2016-03-03 04:22:35&lt;/p&gt;
&lt;blockquote&gt;&lt;h1 id=&quot;Description&quot;&gt;&lt;a href=&quot;#Description&quot; class=&quot;headerlink&quot; title=&quot;Description&quot;&gt;&lt;/a&gt;Description&lt;/h1&gt;&lt;p&gt;　　這裡有各種不同容量的量杯可以裝水，可是有時候所有量杯的容量都不是剛好我們想要的，因此我們要用些技巧來量出我們所需要的水量。下列三項分別算一個動作：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;將一個量杯裝滿水&lt;/li&gt;
&lt;li&gt;將一個量杯內的水倒光&lt;/li&gt;
&lt;li&gt;將一個量杯內的水倒到另一個量杯內，倒滿或是倒光為止&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;　　請寫一個程式，給定量杯數量和每一個量杯的容量，請算出最少需要幾個動作來達成目標，或是不可能做到。注意：所要的水必須只裝在一個量杯內，不能由多個量杯的水量總合來達成目標，另外，所有量杯一開始都是空的。&lt;/p&gt;
    
    </summary>
    
      <category term="題解" scheme="http://fsh0524.github.io/categories/%E9%A1%8C%E8%A7%A3/"/>
    
    
      <category term="BFS" scheme="http://fsh0524.github.io/tags/BFS/"/>
    
      <category term="狀態壓縮" scheme="http://fsh0524.github.io/tags/%E7%8B%80%E6%85%8B%E5%A3%93%E7%B8%AE/"/>
    
      <category term="Hash" scheme="http://fsh0524.github.io/tags/Hash/"/>
    
      <category term="TIOJ" scheme="http://fsh0524.github.io/tags/TIOJ/"/>
    
  </entry>
  
  <entry>
    <title>LaTeX 在 Hexo 中的使用</title>
    <link href="http://fsh0524.github.io/2016/03/03/LaTeX-in-Hexo/"/>
    <id>http://fsh0524.github.io/2016/03/03/LaTeX-in-Hexo/</id>
    <published>2016-03-03T00:22:13.000Z</published>
    <updated>2016-03-03T01:52:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2016-03-03 09:52:32</p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>　　(╯°□°）╯︵ ┻━┻<br>　　昨天為了 <a href="https://www.mathjax.org/" target="_blank" rel="external">MathJax</a> 數學公式無法正常顯示的狀況搞了一整晚，最後才發現是 <a href="http://daringfireball.net/projects/markdown/" target="_blank" rel="external">Markdown</a> 和 <a href="https://latex-project.org/" target="_blank" rel="external">LaTeX</a> 語法衝突的問題。</p>
<h1 id="MathJax-插件"><a href="#MathJax-插件" class="headerlink" title="MathJax 插件"></a>MathJax 插件</h1><p>　　有些 Hexo 主題自帶 MathJax，如本站使用的 NexT 主題。<br><a id="more"></a><br>　　如果沒有的話，可以從下列指令安裝：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-math --save</div></pre></td></tr></table></figure></p>
<h1 id="使用（LaTeX語法）"><a href="#使用（LaTeX語法）" class="headerlink" title="使用（LaTeX語法）"></a>使用（<a href="https://en.wikibooks.org/wiki/LaTeX/Mathematics" target="_blank" rel="external">LaTeX語法</a>）</h1><h2 id="行內公式"><a href="#行內公式" class="headerlink" title="行內公式"></a>行內公式</h2><p>　　在公式前後加上 <code>$</code> 來添加行內數學公式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">行內公式 $\sin ^&#123; 2 &#125;&#123; \theta +\cos ^&#123; 2 &#125;&#123; \theta =1 &#125;  &#125;$ 行內公式</div></pre></td></tr></table></figure>
<h3 id="效果："><a href="#效果：" class="headerlink" title="效果："></a>效果：</h3><p>行內公式 $\sin ^{ 2 }{ \theta +\cos ^{ 2 }{ \theta =1 }  }$ 行內公式</p>
<h2 id="整行公式"><a href="#整行公式" class="headerlink" title="整行公式"></a>整行公式</h2><p>　　在公式前後加上 <code>$$</code> 來添加整行數學公式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$$\frac &#123; dy &#125;&#123; dx &#125; =\frac &#123; &#123; e &#125;^&#123; x &#125; &#125;&#123; 3&#123; y &#125;^&#123; 2 &#125; &#125;$$</div></pre></td></tr></table></figure>
<h3 id="效果：-1"><a href="#效果：-1" class="headerlink" title="效果："></a>效果：</h3><p>$$\frac { dy }{ dx } =\frac { { e }^{ x } }{ 3{ y }^{ 2 } }$$</p>
<h1 id="與-Markdown-發生衝突"><a href="#與-Markdown-發生衝突" class="headerlink" title="與 Markdown 發生衝突"></a>與 Markdown 發生衝突</h1><p>　　有些狀況下，LaTeX 無法被正常渲染，如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$$\lim _&#123; x\rightarrow \infty  &#125;&#123; \sum _&#123; k=1 &#125;^&#123; x &#125;&#123; \frac &#123; \sin &#123; k &#125; +\cos &#123; k &#125;  &#125;&#123; k &#125;  &#125;  &#125; $$</div></pre></td></tr></table></figure></p>
<h3 id="效果：-2"><a href="#效果：-2" class="headerlink" title="效果："></a>效果：</h3><p>$$\lim <em>{ x\rightarrow \infty  }{ \sum </em>{ k=1 }^{ x }{ \frac { \sin { k } +\cos { k }  }{ k }  }  } $$</p>
<p>　　這個公式是完全正確的，但卻無法成功地被渲染，仔細一看才發現 <code>{ x\rightarrow \infty  }{ \sum</code> 是斜體顯示的。<br>　　Markdown中 <code>_斜體_</code> 是<em>斜體</em>的語法，跳脫字元就能解決這個問題了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$$\lim \_&#123; x\rightarrow \infty  &#125;&#123; \sum \_&#123; k=1 &#125;^&#123; x &#125;&#123; \frac &#123; \sin &#123; k &#125; +\cos &#123; k &#125;  &#125;&#123; k &#125;  &#125;  &#125; $$</div></pre></td></tr></table></figure></p>
<h3 id="效果：-3"><a href="#效果：-3" class="headerlink" title="效果："></a>效果：</h3><p>$$\lim _{ x\rightarrow \infty  }{ \sum _{ k=1 }^{ x }{ \frac { \sin { k } +\cos { k }  }{ k }  }  } $$</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2016-03-03 09:52:32&lt;/p&gt;
&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;　　(╯°□°）╯︵ ┻━┻&lt;br&gt;　　昨天為了 &lt;a href=&quot;https://www.mathjax.org/&quot;&gt;MathJax&lt;/a&gt; 數學公式無法正常顯示的狀況搞了一整晚，最後才發現是 &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt; 和 &lt;a href=&quot;https://latex-project.org/&quot;&gt;LaTeX&lt;/a&gt; 語法衝突的問題。&lt;/p&gt;
&lt;h1 id=&quot;MathJax-插件&quot;&gt;&lt;a href=&quot;#MathJax-插件&quot; class=&quot;headerlink&quot; title=&quot;MathJax 插件&quot;&gt;&lt;/a&gt;MathJax 插件&lt;/h1&gt;&lt;p&gt;　　有些 Hexo 主題自帶 MathJax，如本站使用的 NexT 主題。&lt;br&gt;
    
    </summary>
    
      <category term="記事" scheme="http://fsh0524.github.io/categories/%E8%A8%98%E4%BA%8B/"/>
    
    
      <category term="LaTeX" scheme="http://fsh0524.github.io/tags/LaTeX/"/>
    
      <category term="MathJax" scheme="http://fsh0524.github.io/tags/MathJax/"/>
    
      <category term="Markdown" scheme="http://fsh0524.github.io/tags/Markdown/"/>
    
      <category term="Hexo" scheme="http://fsh0524.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>TIOJ 1007 . 燈泡問題</title>
    <link href="http://fsh0524.github.io/2016/03/02/TIOJ-1007/"/>
    <id>http://fsh0524.github.io/2016/03/02/TIOJ-1007/</id>
    <published>2016-03-02T07:52:41.000Z</published>
    <updated>2016-10-26T19:26:53.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2016-10-27 03:26:53</p>
<blockquote><h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p>　　我們有一些不同的燈泡，裡面都有一條燈絲，但品質都不是很好，如果持續地讓燈泡亮著的話，燈絲過一會兒就燒斷了，因此必須有時將電源切斷，讓燈絲降溫。<br>　　假設一個燈泡最多可以持續點亮$n$單位的時間而不燒斷，而總時間是$m$單位時間。請寫一個程式，給定$n$和$m$的值，算出有幾種不同的明暗排列方式，每一種排列方式之中都不會出現亮超過連續$n$單位時間的區段。</p>
<a id="more"></a>
<h1 id="Input-Format"><a href="#Input-Format" class="headerlink" title="Input Format"></a>Input Format</h1><p>　　有兩個數字$n$和$m$以一個空白分開，其中$1 \le n \le 15$，$1 \le m \le 90$。</p>
<h1 id="Output-Format"><a href="#Output-Format" class="headerlink" title="Output Format"></a>Output Format</h1><p>　　對於每一筆輸入請輸出一個數字，代表排列方式的總數。每個答案保證不會超過${2}^{64}−1$，所以你不必考慮有大數的情況會發生。</p>
<h1 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">2 4</div></pre></td></tr></table></figure>

<h1 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">13</div></pre></td></tr></table></figure>
<footer><strong>TIOJ</strong><cite><a href="http://tioj.infor.org/problems/1007" target="_blank" rel="external">1007</a></cite></footer></blockquote>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>　　每個燈泡都有亮暗兩種可能性，我們知道當$0\le i\le n$時，${ A }_{ i }={ 2 }^{ i }$。<br>　　每增加一個燈泡，我們可以想成新增一個暗燈插入後$n$個燈泡之間或放最後面（最後一格只會被最後$n$格影響，因為最多只有連續$n$個燈泡亮），轉移：${ A }_{ i }=\sum_{ j=1 }^{ n }{ { A }_{ i-j } }$。</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> dp[<span class="number">100</span>];</div><div class="line"><span class="keyword">int</span> n, m;</div><div class="line">main() &#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m);</div><div class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; ++i)</div><div class="line">        dp[i + <span class="number">1</span>] = dp[i] &lt;&lt; <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n ; i &lt; m ; ++i)</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i ; j &gt; i - n - <span class="number">1</span> ; --j)</div><div class="line">            dp[i + <span class="number">1</span>] += dp[j];</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, dp[m]);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2016-10-27 03:26:53&lt;/p&gt;
&lt;blockquote&gt;&lt;h1 id=&quot;Description&quot;&gt;&lt;a href=&quot;#Description&quot; class=&quot;headerlink&quot; title=&quot;Description&quot;&gt;&lt;/a&gt;Description&lt;/h1&gt;&lt;p&gt;　　我們有一些不同的燈泡，裡面都有一條燈絲，但品質都不是很好，如果持續地讓燈泡亮著的話，燈絲過一會兒就燒斷了，因此必須有時將電源切斷，讓燈絲降溫。&lt;br&gt;　　假設一個燈泡最多可以持續點亮$n$單位的時間而不燒斷，而總時間是$m$單位時間。請寫一個程式，給定$n$和$m$的值，算出有幾種不同的明暗排列方式，每一種排列方式之中都不會出現亮超過連續$n$單位時間的區段。&lt;/p&gt;
    
    </summary>
    
      <category term="題解" scheme="http://fsh0524.github.io/categories/%E9%A1%8C%E8%A7%A3/"/>
    
    
      <category term="DP" scheme="http://fsh0524.github.io/tags/DP/"/>
    
      <category term="TIOJ" scheme="http://fsh0524.github.io/tags/TIOJ/"/>
    
  </entry>
  
  <entry>
    <title>你好，世界！</title>
    <link href="http://fsh0524.github.io/2016/03/01/hello-world/"/>
    <id>http://fsh0524.github.io/2016/03/01/hello-world/</id>
    <published>2016-02-29T23:12:22.000Z</published>
    <updated>2016-03-02T07:23:17.000Z</updated>
    
    <content type="html"><![CDATA[<p>Latest Update: 2016-03-02 03:23:17</p>
<h1 id="開心！部落格用奇怪的方式復活了！"><a href="#開心！部落格用奇怪的方式復活了！" class="headerlink" title="開心！部落格用奇怪的方式復活了！"></a>開心！部落格用奇怪的方式復活了！</h1><p>　　會陸續把一些舊文章移過來～～<br>　　感謝 <a href="https://github.com/samsam2310" title="github" target="_blank" rel="external">samsam2310</a> 推薦我用 <a href="https://hexo.io" target="_blank" rel="external">Hexo</a> 作為本網誌的框架。</p>
<a id="more"></a>
<h1 id="細數架站點滴"><a href="#細數架站點滴" class="headerlink" title="細數架站點滴"></a>細數架站點滴</h1><p>　　Hexo 框架被設計得滿方便使用的，才花不到半個小時就完成了架站工作和一些基本設定。</p>
<h2 id="為什麼選-Github-Page-與-Hexo"><a href="#為什麼選-Github-Page-與-Hexo" class="headerlink" title="為什麼選 Github Page 與 Hexo"></a>為什麼選 Github Page 與 Hexo</h2><p>　　<del> Github 是目前全球最大的男性同性交友平台⋯⋯ </del> 咳，不是這樣的。<br>　　Github 提供每個 repository 1 GB 的容量，基本上寫個 Blog 應該是不會搞到超過 1GB 啦，還有 git 的方便性以及免費的個人化網址（.github.io）。<br>　　Hexo 如官網所言，是快速、簡單且強大的網誌框架。豐富的外掛是它最受我青睞的地方，也有很多網上大神為它寫了主題，如本站所使用的 <a href="https://github.com/iissnan/hexo-theme-next" title="github" target="_blank" rel="external">NexT</a> 主題。 Markdown 的支援更讓寫文章變得方便且輕鬆。</p>
<h2 id="準備工作"><a href="#準備工作" class="headerlink" title="準備工作"></a>準備工作</h2><ul>
<li>github account</li>
<li>node.js</li>
<li>git</li>
</ul>
<h2 id="New-Repository"><a href="#New-Repository" class="headerlink" title="New Repository"></a>New Repository</h2><p>　　Github Page 分成 user or organization site 和 project site 兩種，前者是每個帳號自己的個人網站，後者是依附專案的網站。先 new 一個 repository 出來，名為 username.github.io，username 填入 github 的 username。<br>　　之後 clone the repository 到你準備存放網站的資料夾裡：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> https://github.com/username/username.github.io</div></pre></td></tr></table></figure></p>
<h2 id="安裝-Hexo"><a href="#安裝-Hexo" class="headerlink" title="安裝 Hexo"></a>安裝 Hexo</h2><blockquote>
<h3 id="Mac-使用者"><a href="#Mac-使用者" class="headerlink" title="Mac 使用者"></a>Mac 使用者</h3><p>編譯時可能會碰到問題，請先安裝 Xcode Command Line Tools。<br>如果嫌 Xcode IDE 太肥，試試這個：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xcode-select --install</div></pre></td></tr></table></figure></p>
</blockquote>
<p>　　一旦所有的必備軟體都安裝完畢後，即可透過 npm 安裝 Hexo：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install -g hexo-cli</div></pre></td></tr></table></figure></p>
<h2 id="部署-Hexo"><a href="#部署-Hexo" class="headerlink" title="部署 Hexo"></a>部署 Hexo</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">hexo init &lt;folder&gt;</div><div class="line"><span class="built_in">cd</span> &lt;folder&gt;</div><div class="line">npm install</div></pre></td></tr></table></figure>
<h2 id="部署到-Github-上"><a href="#部署到-Github-上" class="headerlink" title="部署到 Github 上"></a>部署到 Github 上</h2><p>　　找到 <code>_config.yml</code> 中的 Deployment 標籤，並設定如下：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Deployment</span></div><div class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></div><div class="line"><span class="attr">deploy:</span></div><div class="line"><span class="attr">  type:</span> <span class="string">git</span></div><div class="line"><span class="attr">  repository:</span> <span class="attr">https://github.com/username/username.github.io.git</span></div><div class="line"><span class="attr">  branch:</span> <span class="string">master</span></div></pre></td></tr></table></figure></p>
<p>　　接著依序輸入以下指令：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">hexo clean</div><div class="line">hexo generate</div><div class="line">hexo deploy</div></pre></td></tr></table></figure></p>
<p>　　完成了，到 <a href="http://username.github.io/" target="_blank" rel="external">http://username.github.io/</a> 就能看到剛發佈上去的 Blog 了！</p>
<h2 id="有關-Hexo-更詳細的使用在文件裡都有記載喔！"><a href="#有關-Hexo-更詳細的使用在文件裡都有記載喔！" class="headerlink" title="有關 Hexo 更詳細的使用在文件裡都有記載喔！"></a>有關 Hexo 更詳細的使用在<a href="https://hexo.io/docs/" target="_blank" rel="external">文件</a>裡都有記載喔！</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Latest Update: 2016-03-02 03:23:17&lt;/p&gt;
&lt;h1 id=&quot;開心！部落格用奇怪的方式復活了！&quot;&gt;&lt;a href=&quot;#開心！部落格用奇怪的方式復活了！&quot; class=&quot;headerlink&quot; title=&quot;開心！部落格用奇怪的方式復活了！&quot;&gt;&lt;/a&gt;開心！部落格用奇怪的方式復活了！&lt;/h1&gt;&lt;p&gt;　　會陸續把一些舊文章移過來～～&lt;br&gt;　　感謝 &lt;a href=&quot;https://github.com/samsam2310&quot; title=&quot;github&quot;&gt;samsam2310&lt;/a&gt; 推薦我用 &lt;a href=&quot;https://hexo.io&quot;&gt;Hexo&lt;/a&gt; 作為本網誌的框架。&lt;/p&gt;
    
    </summary>
    
      <category term="記事" scheme="http://fsh0524.github.io/categories/%E8%A8%98%E4%BA%8B/"/>
    
    
      <category term="Hexo" scheme="http://fsh0524.github.io/tags/Hexo/"/>
    
      <category term="Web" scheme="http://fsh0524.github.io/tags/Web/"/>
    
  </entry>
  
</feed>
