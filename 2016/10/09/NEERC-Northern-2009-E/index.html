<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="線段樹,數論," />





  <link rel="alternate" href="/atom.xml" title="野有蔓草" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.5.0" />






<meta name="description" content="Latest Update: 2016-10-09 06:16:15
DescriptionYes, it happened! The first contact! Aliens will visit the Earth in $2010$! And they promised to bring an enigmatic device which cannot be constructed usi">
<meta property="og:type" content="article">
<meta property="og:title" content="NEERC 2009, Northern, Problem E. Enigmatic Device">
<meta property="og:url" content="http://fsh0524.github.io/2016/10/09/NEERC-Northern-2009-E/index.html">
<meta property="og:site_name" content="野有蔓草">
<meta property="og:description" content="Latest Update: 2016-10-09 06:16:15
DescriptionYes, it happened! The first contact! Aliens will visit the Earth in $2010$! And they promised to bring an enigmatic device which cannot be constructed usi">
<meta property="og:updated_time" content="2016-10-09T10:16:15.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="NEERC 2009, Northern, Problem E. Enigmatic Device">
<meta name="twitter:description" content="Latest Update: 2016-10-09 06:16:15
DescriptionYes, it happened! The first contact! Aliens will visit the Earth in $2010$! And they promised to bring an enigmatic device which cannot be constructed usi">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '作者'
    }
  };
</script>

  <title> NEERC 2009, Northern, Problem E. Enigmatic Device | 野有蔓草 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-tw">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-74528216-1', 'auto');
  ga('send', 'pageview');
</script>







  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><link rel="stylesheet" href="/css/animate.css">
<div class="site-meta custom-logo" style="padding: 10px 0px 0px 30px;">
  
  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">野有蔓草</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <a class="animated fadeInDown">邂逅相遇，適我願兮。</a>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分類
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            關於
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            文章列表
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            標籤
          </a>
        </li>
      

      
      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                NEERC 2009, Northern, Problem E. Enigmatic Device
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">發表於</span>
            <time itemprop="dateCreated" datetime="2016-10-09T14:29:25+08:00" content="2016-10-09">
              2016-10-09
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/題解/" itemprop="url" rel="index">
                    <span itemprop="name">題解</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/09/NEERC-Northern-2009-E/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/10/09/NEERC-Northern-2009-E/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Latest Update: 2016-10-09 06:16:15</p>
<blockquote><h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p>Yes, it happened! The first contact! Aliens will visit the Earth in $2010$! And they promised to bring an enigmatic device which cannot be constructed using existing Earth technologies. Most of the scientists of the world think so! All newspapers already published their leading articles about it.</p>
<a id="more"></a>
<p>This device will accept an integer sequence $\{ a_i \} $ as its initial input. After that, it can perform the following two operations:</p>
<ol>
<li>Take an interval $[l; r]$ and perform $a_i$ ← $a_i^2$ $mod$ $2010$ for all $a_i$ such that $l \leq  i \leq  r$.</li>
<li>Take an interval $[l; r]$ and output the sum of all $a_i$ such that $l \leq  i \leq  r$. Note that the sum is <font color="#f00"><strong><em>not</em></strong></font> taken modulo $2010$.</li>
</ol>
<p>The amazing thing about this device is that it is able to perform $50000$ operations of this kind with a sequence of $50000$ numbers within $3$ seconds. Nobody could do it before!</p>
<p>But Roman does not believe in aliens and thinks that it is only a great hoax made by somebody just to win another million bucks on the stock exchange. His goal is to prove this. So he hired you to write a program to simulate this device.</p>
<p>Given an integer sequence ai and a sequence of operations, write a program which simulates the behaviour of the strange alien device.</p>
<h1 id="Input-Format"><a href="#Input-Format" class="headerlink" title="Input Format"></a>Input Format</h1><p>The first line of the input contains the length of the sequence $n$ ($1\leq  n\leq 50000$). The second line contains n numbers ai forming the initial sequence ($0\leq a_i\leq 2009$). The third line contains the number of operations $m$ ($1\leq m\leq 50000$). The rest of file contains m lines, each describing one operation. The $j$-th operation is described by its kind $k_j$ (‘1’ for squaring, ‘2’ for calculating the sum), followed by two integers $l_j$ and $r_j$ ($1\leq l_j\leq r_j\leq n$).</p>
<h1 id="Output-Format"><a href="#Output-Format" class="headerlink" title="Output Format"></a>Output Format</h1><p>For each operation of the second kind, write their output on the separate line, in order they appear in the input.</p>
<h1 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h1><figure class="highlight plain"><figcaption><span>enigmatic.in</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">3</div><div class="line">17 239 999</div><div class="line">4</div><div class="line">2 1 3</div><div class="line">1 2 3</div><div class="line">2 2 3</div><div class="line">2 1 2</div></pre></td></tr></table></figure>

<h1 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h1><figure class="highlight plain"><figcaption><span>enigmatic.out</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">1255</div><div class="line">1882</div><div class="line">858</div></pre></td></tr></table></figure>
<footer><strong>Codeforces</strong><cite><a href="http://codeforces.com/gym/100622" target="_blank" rel="external">2009-2010 ACM-ICPC, NEERC, Northern Subregional Contest</a></cite></footer></blockquote>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>　　看到題目要求區間更新和查詢，不難想到是線段樹。但這題的更新是平方，光是平方就不知道要怎麼區間更新，這裡需要觀察幾個性質：</p>
<ul>
<li>2010 是合成數，根據經驗法則我們知道合成數的環通常比較小。（證明待補）</li>
<li>由上一項我們可以大膽地<a href="http://pastebin.com/0pLi1KQv/" title="pastebin" target="_blank" rel="external">測試</a>，發現除了 $a$ 和 $a^2$ 以外，後面的平方運算每十次會循環一次。</li>
</ul>
<p>　　利用上述性質，我們可以先預處理 $\{ a_i, a_i^2, a_i^{2^2}, a_i^{2^3}, …, a_i^{2^{12}} \} $ ，這樣當我們要將 $[l, n]$ 區間的每個元素平方時，只要將須更新的區間子樹滾動一次，並更新其懶惰標記即可。</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> F(n) Fi(i,n)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Fi(i,n) Fl(i,0,n)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Fl(i,l,n) for(int i=l;i&lt;n;++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> M ((L+R)&gt;&gt;1)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lchild (root&lt;&lt;1)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rchild (root&lt;&lt;1|1)</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> node = <span class="number">200000</span>, ring = <span class="number">12</span>, mod = <span class="number">2010</span>;</div><div class="line"><span class="keyword">int</span> n, tree[node][ring], lazy[node], roll[node];</div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">rolling</span><span class="params">(<span class="keyword">int</span> a)</span> </span>&#123;</div><div class="line">	<span class="keyword">while</span> (a &gt; <span class="number">11</span>) a -= <span class="number">10</span>;</div><div class="line">	<span class="keyword">return</span> a;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span> <span class="params">(<span class="keyword">int</span> root = <span class="number">1</span>, <span class="keyword">int</span> L = <span class="number">1</span>, <span class="keyword">int</span> R = n)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (L == R) &#123;</div><div class="line">		<span class="built_in">cin</span> &gt;&gt; tree[root][<span class="number">0</span>];</div><div class="line">		F(<span class="number">11</span>) tree[root][i+<span class="number">1</span>] = (tree[root][i]*tree[root][i])%mod;</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	build(lchild, L, M), build(rchild, M+<span class="number">1</span>, R);</div><div class="line">	F(<span class="number">12</span>) tree[root][i] = tree[lchild][i]+tree[rchild][i];</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_down</span> <span class="params">(<span class="keyword">int</span> root)</span> </span>&#123;</div><div class="line">	lazy[lchild] = rolling(lazy[lchild]+lazy[root]);</div><div class="line">	lazy[rchild] = rolling(lazy[rchild]+lazy[root]);</div><div class="line">	roll[lchild] = rolling(roll[lchild]+lazy[root]);</div><div class="line">	roll[rchild] = rolling(roll[rchild]+lazy[root]);</div><div class="line">	lazy[root] = <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span> <span class="params">(<span class="keyword">int</span> ql, <span class="keyword">int</span> qr, <span class="keyword">int</span> root = <span class="number">1</span>, <span class="keyword">int</span> L = <span class="number">1</span>, <span class="keyword">int</span> R = n)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (R &lt; ql || qr &lt; L) <span class="keyword">return</span>;</div><div class="line">	<span class="keyword">if</span> (ql &lt;= L &amp;&amp; R &lt;= qr) &#123;</div><div class="line">		roll[root] = rolling(roll[root]+<span class="number">1</span>);</div><div class="line">		lazy[root] = rolling(lazy[root]+<span class="number">1</span>);</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	push_down(root);</div><div class="line">	update(ql, qr, lchild, L, M), update(ql, qr, rchild, M+<span class="number">1</span>, R);</div><div class="line">	F(<span class="number">12</span>) tree[root][i] = tree[lchild][rolling(roll[lchild]+i)]+tree[rchild][rolling(roll[rchild]+i)];</div><div class="line">	roll[root] = <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span> <span class="params">(<span class="keyword">int</span> ql, <span class="keyword">int</span> qr, <span class="keyword">int</span> root = <span class="number">1</span>, <span class="keyword">int</span> L = <span class="number">1</span>, <span class="keyword">int</span> R = n)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (R &lt; ql || qr &lt; L) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="keyword">if</span> (ql &lt;= L &amp;&amp; R &lt;= qr) <span class="keyword">return</span> tree[root][roll[root]];</div><div class="line">	push_down(root);</div><div class="line">	<span class="keyword">return</span> query(ql, qr, lchild, L, M)+query(ql, qr, rchild, M+<span class="number">1</span>, R);</div><div class="line">&#125;</div><div class="line">main () &#123;</div><div class="line">	freopen(<span class="string">"enigmatic.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line">	freopen(<span class="string">"enigmatic.out"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</div><div class="line">	ios::sync_with_stdio(<span class="number">0</span>);</div><div class="line">	<span class="built_in">cin</span>.tie(<span class="number">0</span>);</div><div class="line">	<span class="built_in">cin</span> &gt;&gt; n;</div><div class="line">	build();</div><div class="line">	<span class="keyword">int</span> q, k, l, r;</div><div class="line">	<span class="built_in">cin</span> &gt;&gt; q;</div><div class="line">	<span class="keyword">while</span> (q--) &#123;</div><div class="line">		<span class="built_in">cin</span> &gt;&gt; k &gt;&gt; l &gt;&gt; r;</div><div class="line">		<span class="keyword">if</span> (k == <span class="number">1</span>) update(l, r);</div><div class="line">		<span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; query(l, r) &lt;&lt; <span class="string">'\n'</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/線段樹/" rel="tag">#線段樹</a>
          
            <a href="/tags/數論/" rel="tag">#數論</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/09/15/ECNA2015-G/" rel="next" title="ECNA 2015 Problem G . Tray Bien">
                <i class="fa fa-chevron-left"></i> ECNA 2015 Problem G . Tray Bien
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/10/11/SG-theorem/" rel="prev" title="從 Nim 到 Sprague–Grundy 定理">
                從 Nim 到 Sprague–Grundy 定理 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目錄
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            本站概覽
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/tibby.gif"
               alt="fsh0524" />
          <p class="site-author-name" itemprop="name">fsh0524</p>
          <p class="site-description motion-element" itemprop="description">(=ﾟωﾟ)ﾉ今日もぴょんぴょんです！</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">17</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>
          
          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分類</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">23</span>
                <span class="site-state-item-name">標籤</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <a href="https://github.com/fsh0524" target="_blank">
                
                  <!--i class="fa fa-github"></i-->
                  <img src="/images/github.png" height="32" width="32" alt="GitHub"/>
                
              </a>
            
              <a href="https://www.facebook.com/ChianAnYu" target="_blank">
                
                  <!--i class="fa fa-facebook"></i-->
                  <img src="/images/facebook.png" height="32" width="32" alt="Facebook"/>
                
              </a>
            
              <a href="http://www.pixiv.net/member.php?id=6241537" target="_blank">
                
                  <!--i class="fa fa-pixiv"></i-->
                  <img src="/images/pixiv.png" height="32" width="32" alt="Pixiv"/>
                
              </a>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator">
            <i class="fa fa-angle-double-up"></i>
          </div>
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Description"><span class="nav-number">1.</span> <span class="nav-text">Description</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Input-Format"><span class="nav-number">2.</span> <span class="nav-text">Input Format</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Output-Format"><span class="nav-number">3.</span> <span class="nav-text">Output Format</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Sample-Input"><span class="nav-number">4.</span> <span class="nav-text">Sample Input</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Sample-Output"><span class="nav-number">5.</span> <span class="nav-text">Sample Output</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Solution"><span class="nav-number">6.</span> <span class="nav-text">Solution</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Code"><span class="nav-number">7.</span> <span class="nav-text">Code</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator">
            <i class="fa fa-angle-double-down"></i>
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">fsh0524</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  


  



  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  

  
  
<script type="text/javascript" src="/js/src/scrollspy.js?v=0.5.0"></script>

<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 1 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = NexT.utils.escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    NexT.motion.middleWares.sidebar = function () {
      var $tocContent = $('.post-toc-content');

      if (CONFIG.scheme !== 'Pisces' && (CONFIG.sidebar.display === 'post' || CONFIG.sidebar.display === 'always')) {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          NexT.utils.displaySidebar();
        }
      }
    };
  });
</script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'fsh0524';
      var disqus_identifier = '2016/10/09/NEERC-Northern-2009-E/';
      var disqus_title = 'NEERC 2009, Northern, Problem E. Enigmatic Device';
      var disqus_url = 'http://fsh0524.github.io/2016/10/09/NEERC-Northern-2009-E/';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
        run_disqus_script('embed.js');
      
    </script>
  



  
  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>

  
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  
  


</body>
</html>
